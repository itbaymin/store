[2020-05-30 13:56:56 586 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 3324 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 13:56:56 589 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 13:56:58 192 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 13:56:58 329 INFO ] [main] / - Finished Spring Data repository scanning in 126ms. Found 2 repository interfaces.
[2020-05-30 13:56:59 310 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 13:56:59 331 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 13:56:59 340 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 13:56:59 340 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 13:56:59 351 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 13:56:59 352 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 13:56:59 352 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 13:56:59 352 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 13:57:00 442 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 13:57:00 598 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 13:57:00 598 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3964 ms
[2020-05-30 13:57:00 993 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 13:57:01 237 INFO ] [cluster-ClusterId{value='5ed1f5ace9ea6b0cfc4c30fd', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:165}] to 47.105.209.57:27017
[2020-05-30 13:57:01 252 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 13:57:01 303 INFO ] [cluster-ClusterId{value='5ed1f5ace9ea6b0cfc4c30fd', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65088119}
[2020-05-30 13:57:01 577 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x9c38d491, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 13:57:01 577 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 13:57:01 747 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 13:57:01 873 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 13:57:02 009 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 13:57:02 133 INFO ] [main] / - Context refreshed
[2020-05-30 13:57:02 165 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 13:57:02 193 INFO ] [main] / - Scanning for api listing references
[2020-05-30 13:57:02 472 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 13:57:02 487 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 13:57:02 489 INFO ] [main] / - Started IMApplication in 6.29 seconds (JVM running for 7.126)
[2020-05-30 14:04:33 091 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 14:04:33 091 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 14:04:33 103 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 12 ms
[2020-05-30 14:04:44 738 INFO ] [http-nio-8081-exec-3] / - Opened connection [connectionId{localValue:2, serverValue:166}] to 47.105.209.57:27017
[2020-05-30 14:35:11 752 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 13568 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 14:35:11 753 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 14:35:12 770 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 14:35:12 864 INFO ] [main] / - Finished Spring Data repository scanning in 77ms. Found 2 repository interfaces.
[2020-05-30 14:35:13 573 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 14:35:13 594 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:35:13 607 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 14:35:13 607 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 14:35:13 619 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 14:35:13 619 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 14:35:13 619 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 14:35:13 619 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 14:35:14 703 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 14:35:14 907 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 14:35:14 908 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3067 ms
[2020-05-30 14:35:15 283 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 14:35:15 533 INFO ] [cluster-ClusterId{value='5ed1fea3e9ea6b35009efd61', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:167}] to 47.105.209.57:27017
[2020-05-30 14:35:15 553 WARN ] [main] / - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'nettyServer': Unsatisfied dependency expressed through field 'config'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.byc.im.support.common.APPConfig' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
[2020-05-30 14:35:15 557 INFO ] [main] / - Stopping service [Tomcat]
[2020-05-30 14:35:15 779 ERROR] [main] / - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field config in com.byc.im.websocket.NettyServer required a bean of type 'com.byc.im.support.common.APPConfig' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.byc.im.support.common.APPConfig' in your configuration.

[2020-05-30 14:37:20 935 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 8512 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 14:37:20 936 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 14:37:22 216 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 14:37:22 337 INFO ] [main] / - Finished Spring Data repository scanning in 106ms. Found 2 repository interfaces.
[2020-05-30 14:37:23 007 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 14:37:23 032 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:37:23 048 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 14:37:23 048 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 14:37:23 062 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 14:37:23 062 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 14:37:23 062 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 14:37:23 062 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 14:37:24 140 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 14:37:24 326 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 14:37:24 326 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3325 ms
[2020-05-30 14:37:24 695 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 14:37:24 942 INFO ] [cluster-ClusterId{value='5ed1ff24e9ea6b214070811d', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:168}] to 47.105.209.57:27017
[2020-05-30 14:37:25 007 INFO ] [cluster-ClusterId{value='5ed1ff24e9ea6b214070811d', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63427639}
[2020-05-30 14:37:25 043 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 14:37:25 329 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xa38287f1, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 14:37:25 329 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 14:37:25 506 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 14:37:25 630 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 14:37:25 767 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 14:37:25 915 INFO ] [main] / - Context refreshed
[2020-05-30 14:37:25 948 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 14:37:25 985 INFO ] [main] / - Scanning for api listing references
[2020-05-30 14:37:26 244 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:37:26 266 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 14:37:26 270 INFO ] [main] / - Started IMApplication in 5.904 seconds (JVM running for 6.421)
[2020-05-30 14:37:40 966 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 14:37:40 966 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 14:37:40 972 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-05-30 14:37:41 494 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:169}] to 47.105.209.57:27017
[2020-05-30 14:39:00 824 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 1408 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 14:39:00 826 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 14:39:02 134 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 14:39:02 232 INFO ] [main] / - Finished Spring Data repository scanning in 80ms. Found 2 repository interfaces.
[2020-05-30 14:39:03 427 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 14:39:03 456 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:39:03 474 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 14:39:03 474 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 14:39:03 489 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 14:39:03 490 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 14:39:03 490 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 14:39:03 490 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 14:39:04 574 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 14:39:04 975 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 14:39:04 975 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4098 ms
[2020-05-30 14:39:05 349 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 14:39:05 609 INFO ] [cluster-ClusterId{value='5ed1ff89e9ea6b0580224749', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:170}] to 47.105.209.57:27017
[2020-05-30 14:39:05 655 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 14:39:05 678 INFO ] [cluster-ClusterId{value='5ed1ff89e9ea6b0580224749', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=67470474}
[2020-05-30 14:39:05 942 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x537ce6c7, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 14:39:05 942 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 14:39:06 140 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 14:39:06 287 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 14:39:06 432 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 14:39:06 559 INFO ] [main] / - Context refreshed
[2020-05-30 14:39:06 590 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 14:39:06 622 INFO ] [main] / - Scanning for api listing references
[2020-05-30 14:39:06 865 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:39:06 883 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 14:39:06 886 INFO ] [main] / - Started IMApplication in 6.423 seconds (JVM running for 7.07)
[2020-05-30 14:40:02 306 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 14:40:02 306 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 14:40:02 313 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-05-30 14:40:02 860 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:171}] to 47.105.209.57:27017
[2020-05-30 14:40:44 136 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 16008 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 14:40:44 138 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 14:40:45 325 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 14:40:45 408 INFO ] [main] / - Finished Spring Data repository scanning in 69ms. Found 2 repository interfaces.
[2020-05-30 14:40:46 524 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 14:40:46 544 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:40:46 560 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 14:40:46 560 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 14:40:46 571 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 14:40:46 572 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 14:40:46 572 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 14:40:46 572 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 14:40:47 641 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 14:40:47 897 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 14:40:47 897 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3693 ms
[2020-05-30 14:40:48 299 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 14:40:48 601 INFO ] [cluster-ClusterId{value='5ed1fff0e9ea6b3e889888bb', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:172}] to 47.105.209.57:27017
[2020-05-30 14:40:48 672 INFO ] [cluster-ClusterId{value='5ed1fff0e9ea6b3e889888bb', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69470845}
[2020-05-30 14:40:48 789 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 14:40:49 075 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x2727b491, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 14:40:49 076 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 14:40:49 261 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 14:40:49 397 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 14:40:49 543 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 14:40:49 658 INFO ] [main] / - Context refreshed
[2020-05-30 14:40:49 691 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 14:40:49 727 INFO ] [main] / - Scanning for api listing references
[2020-05-30 14:40:50 024 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:40:50 038 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 14:40:50 040 INFO ] [main] / - Started IMApplication in 6.4 seconds (JVM running for 6.984)
[2020-05-30 14:40:56 803 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 14:40:56 804 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 14:40:56 813 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 9 ms
[2020-05-30 14:40:57 407 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:173}] to 47.105.209.57:27017
[2020-05-30 14:41:24 892 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 3740 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 14:41:24 894 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 14:41:26 269 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 14:41:26 360 INFO ] [main] / - Finished Spring Data repository scanning in 74ms. Found 2 repository interfaces.
[2020-05-30 14:41:27 491 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 14:41:27 518 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:41:27 536 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 14:41:27 537 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 14:41:27 550 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 14:41:27 551 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 14:41:27 551 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 14:41:27 551 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 14:41:28 642 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 14:41:28 947 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 14:41:28 948 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3997 ms
[2020-05-30 14:41:29 306 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 14:41:29 532 INFO ] [cluster-ClusterId{value='5ed20019e9ea6b0e9ce83dc1', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:174}] to 47.105.209.57:27017
[2020-05-30 14:41:29 598 INFO ] [cluster-ClusterId{value='5ed20019e9ea6b0e9ce83dc1', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64027494}
[2020-05-30 14:41:29 634 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 14:41:29 884 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x295ee525, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 14:41:29 884 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 14:41:30 072 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 14:41:30 208 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 14:41:30 365 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 14:41:30 488 INFO ] [main] / - Context refreshed
[2020-05-30 14:41:30 516 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 14:41:30 551 INFO ] [main] / - Scanning for api listing references
[2020-05-30 14:41:30 808 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:41:30 859 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 14:41:30 862 INFO ] [main] / - Started IMApplication in 6.528 seconds (JVM running for 7.055)
[2020-05-30 14:45:59 311 INFO ] [http-nio-8081-exec-2] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 14:45:59 311 INFO ] [http-nio-8081-exec-2] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 14:45:59 318 INFO ] [http-nio-8081-exec-2] / - Completed initialization in 7 ms
[2020-05-30 14:45:59 821 INFO ] [http-nio-8081-exec-2] / - Opened connection [connectionId{localValue:2, serverValue:175}] to 47.105.209.57:27017
[2020-05-30 14:46:44 286 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 8776 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 14:46:44 288 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 14:46:45 568 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 14:46:45 680 INFO ] [main] / - Finished Spring Data repository scanning in 93ms. Found 2 repository interfaces.
[2020-05-30 14:46:46 550 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 14:46:46 574 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:46:46 589 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 14:46:46 589 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 14:46:46 600 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 14:46:46 600 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 14:46:46 600 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 14:46:46 600 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 14:46:47 679 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 14:46:47 912 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 14:46:47 912 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3560 ms
[2020-05-30 14:46:48 445 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 14:46:48 749 INFO ] [cluster-ClusterId{value='5ed20158e9ea6b2248ca38aa', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:176}] to 47.105.209.57:27017
[2020-05-30 14:46:48 821 INFO ] [cluster-ClusterId{value='5ed20158e9ea6b2248ca38aa', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70327822}
[2020-05-30 14:46:48 842 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 14:46:49 120 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xb92eb7b2, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 14:46:49 120 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 14:46:49 307 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 14:46:49 439 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 14:46:49 588 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 14:46:49 740 INFO ] [main] / - Context refreshed
[2020-05-30 14:46:49 774 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 14:46:49 811 INFO ] [main] / - Scanning for api listing references
[2020-05-30 14:46:50 071 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 14:46:50 090 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 14:46:50 098 INFO ] [main] / - Started IMApplication in 6.27 seconds (JVM running for 6.796)
[2020-05-30 14:46:53 264 INFO ] [http-nio-8081-exec-4] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 14:46:53 265 INFO ] [http-nio-8081-exec-4] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 14:46:53 274 INFO ] [http-nio-8081-exec-4] / - Completed initialization in 9 ms
[2020-05-30 14:46:53 807 INFO ] [http-nio-8081-exec-4] / - Opened connection [connectionId{localValue:2, serverValue:177}] to 47.105.209.57:27017
[2020-05-30 15:01:39 346 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 12908 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:01:39 348 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:01:40 706 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:01:40 826 INFO ] [main] / - Finished Spring Data repository scanning in 98ms. Found 2 repository interfaces.
[2020-05-30 15:01:41 853 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:01:41 875 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:01:41 885 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:01:41 897 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:01:41 913 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:01:41 913 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:01:41 913 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:01:41 914 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:01:42 989 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:01:43 252 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:01:43 253 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3849 ms
[2020-05-30 15:01:43 595 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:01:43 850 INFO ] [cluster-ClusterId{value='5ed204d7e9ea6b326c351df4', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:178}] to 47.105.209.57:27017
[2020-05-30 15:01:43 922 INFO ] [cluster-ClusterId{value='5ed204d7e9ea6b326c351df4', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69781723}
[2020-05-30 15:01:43 923 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:01:44 200 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xa2b21d93, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:01:44 200 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:01:44 405 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:01:44 524 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:01:44 671 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:01:44 815 INFO ] [main] / - Context refreshed
[2020-05-30 15:01:44 838 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:01:44 863 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:01:45 117 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:01:45 143 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:01:45 145 INFO ] [main] / - Started IMApplication in 6.182 seconds (JVM running for 6.714)
[2020-05-30 15:01:52 386 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:01:52 386 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:01:52 395 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 9 ms
[2020-05-30 15:01:52 914 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:179}] to 47.105.209.57:27017
[2020-05-30 15:02:19 051 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 16796 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:02:19 053 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:02:20 604 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:02:20 707 INFO ] [main] / - Finished Spring Data repository scanning in 82ms. Found 2 repository interfaces.
[2020-05-30 15:02:21 695 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:02:21 709 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:02:21 725 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:02:21 725 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:02:21 788 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:02:21 788 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:02:21 788 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:02:21 788 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:02:22 890 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:02:23 084 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:02:23 085 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3949 ms
[2020-05-30 15:02:23 428 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:02:23 664 INFO ] [cluster-ClusterId{value='5ed204ffe9ea6b419cd4c016', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:180}] to 47.105.209.57:27017
[2020-05-30 15:02:23 732 INFO ] [cluster-ClusterId{value='5ed204ffe9ea6b419cd4c016', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66778181}
[2020-05-30 15:02:23 743 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:02:24 017 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xb5b15c80, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:02:24 017 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:02:24 185 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:02:24 307 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:02:24 449 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:02:24 610 INFO ] [main] / - Context refreshed
[2020-05-30 15:02:24 632 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:02:24 662 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:02:24 870 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:02:24 888 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:02:24 889 INFO ] [main] / - Started IMApplication in 6.397 seconds (JVM running for 6.94)
[2020-05-30 15:02:59 205 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:02:59 205 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:02:59 211 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-05-30 15:02:59 739 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:181}] to 47.105.209.57:27017
[2020-05-30 15:03:01 011 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:114)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:03:22 027 WARN ] [nioEventLoopGroup-3-2] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:114)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:03:52 234 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:114)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:05:15 001 WARN ] [nioEventLoopGroup-3-4] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:114)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:07:19 866 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 15456 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:07:19 867 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:07:21 139 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:07:21 254 INFO ] [main] / - Finished Spring Data repository scanning in 65ms. Found 2 repository interfaces.
[2020-05-30 15:07:22 238 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:07:22 254 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:07:22 265 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:07:22 265 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:07:22 281 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:07:22 281 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:07:22 281 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:07:22 281 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:07:23 344 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:07:23 631 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:07:23 632 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3706 ms
[2020-05-30 15:07:24 104 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:07:24 366 INFO ] [cluster-ClusterId{value='5ed2062ce9ea6b3c60ed13d0', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:182}] to 47.105.209.57:27017
[2020-05-30 15:07:24 437 INFO ] [cluster-ClusterId{value='5ed2062ce9ea6b3c60ed13d0', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69460605}
[2020-05-30 15:07:24 489 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:07:24 799 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x6235b594, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:07:24 799 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:07:25 002 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:07:25 130 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:07:25 278 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:07:25 436 INFO ] [main] / - Context refreshed
[2020-05-30 15:07:25 498 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:07:25 532 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:07:25 809 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:07:25 827 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:07:25 828 INFO ] [main] / - Started IMApplication in 6.362 seconds (JVM running for 6.869)
[2020-05-30 15:07:49 871 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:07:49 871 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:07:49 877 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-05-30 15:07:50 409 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:183}] to 47.105.209.57:27017
[2020-05-30 15:08:00 687 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:08:18 017 WARN ] [http-nio-8081-exec-5] / - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
[2020-05-30 15:08:40 828 WARN ] [nioEventLoopGroup-3-2] / - Failed to initialize a channel. Closing: [id: 0x82c4f825, L:/127.0.0.1:1234 - R:/127.0.0.1:53447]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:09:24 755 WARN ] [nioEventLoopGroup-3-3] / - Failed to initialize a channel. Closing: [id: 0x7bf8e5fd, L:/127.0.0.1:1234 - R:/127.0.0.1:53515]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:10:03 142 WARN ] [nioEventLoopGroup-3-4] / - Failed to initialize a channel. Closing: [id: 0x8290cacf, L:/127.0.0.1:1234 - R:/127.0.0.1:53576]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:10:16 983 WARN ] [nioEventLoopGroup-3-5] / - Failed to initialize a channel. Closing: [id: 0xa3621050, L:/127.0.0.1:1234 - R:/127.0.0.1:53600]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:10:32 952 WARN ] [nioEventLoopGroup-3-6] / - Failed to initialize a channel. Closing: [id: 0xc3247366, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:53621]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:10:39 905 WARN ] [nioEventLoopGroup-3-7] / - Failed to initialize a channel. Closing: [id: 0x0e1ab2fa, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:53635]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:11:34 037 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 4352 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:11:34 039 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:11:35 663 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:11:35 791 INFO ] [main] / - Finished Spring Data repository scanning in 99ms. Found 2 repository interfaces.
[2020-05-30 15:11:36 509 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:11:36 536 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:11:36 551 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:11:36 551 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:11:36 562 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:11:36 562 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:11:36 562 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:11:36 563 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:11:37 630 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:11:37 840 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:11:37 840 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3755 ms
[2020-05-30 15:11:38 228 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:11:38 491 INFO ] [cluster-ClusterId{value='5ed2072ae9ea6b11005b1f97', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:184}] to 47.105.209.57:27017
[2020-05-30 15:11:38 566 INFO ] [cluster-ClusterId{value='5ed2072ae9ea6b11005b1f97', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73252577}
[2020-05-30 15:11:38 668 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:11:38 947 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x588df11f, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:11:38 948 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:11:39 137 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:11:39 260 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:11:39 403 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:11:39 530 INFO ] [main] / - Context refreshed
[2020-05-30 15:11:39 553 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:11:39 581 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:11:39 790 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:11:39 808 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:11:39 810 INFO ] [main] / - Started IMApplication in 6.124 seconds (JVM running for 6.645)
[2020-05-30 15:23:32 313 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:23:32 314 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:23:32 320 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-05-30 15:23:41 512 INFO ] [http-nio-8081-exec-2] / - Opened connection [connectionId{localValue:2, serverValue:185}] to 47.105.209.57:27017
[2020-05-30 15:23:46 823 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:24:10 037 WARN ] [nioEventLoopGroup-3-2] / - Failed to initialize a channel. Closing: [id: 0x39b4ca2f, L:/127.0.0.1:1234 - R:/127.0.0.1:54967]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:24:17 094 WARN ] [nioEventLoopGroup-3-3] / - Failed to initialize a channel. Closing: [id: 0xdfce0373, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54976]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:25:06 318 WARN ] [nioEventLoopGroup-3-4] / - Failed to initialize a channel. Closing: [id: 0x34808448, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55047]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:25:14 139 WARN ] [nioEventLoopGroup-3-5] / - Failed to initialize a channel. Closing: [id: 0xaab2683f, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55057]
io.netty.channel.ChannelPipelineException: com.byc.im.websocket.WebsocketHandler is not a @Sharable handler, so can't be added or removed multiple times.
	at io.netty.channel.DefaultChannelPipeline.checkMultiplicity(DefaultChannelPipeline.java:600)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:202)
	at io.netty.channel.DefaultChannelPipeline.addLast(DefaultChannelPipeline.java:195)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:28)
	at com.byc.im.websocket.WebsocketChannelInitializer.initChannel(WebsocketChannelInitializer.java:17)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:502)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:417)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:474)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:36:22 125 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 17852 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:36:22 130 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:36:23 345 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:36:23 437 INFO ] [main] / - Finished Spring Data repository scanning in 73ms. Found 2 repository interfaces.
[2020-05-30 15:36:24 669 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:36:24 689 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:36:24 701 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:36:24 701 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:36:24 712 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:36:24 713 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:36:24 713 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:36:24 713 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:36:25 795 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:36:26 148 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:36:26 148 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3933 ms
[2020-05-30 15:36:26 538 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:36:26 778 INFO ] [cluster-ClusterId{value='5ed20cfae9ea6b45bcabd210', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:186}] to 47.105.209.57:27017
[2020-05-30 15:36:26 846 INFO ] [cluster-ClusterId{value='5ed20cfae9ea6b45bcabd210', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66453366}
[2020-05-30 15:36:26 861 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:36:27 120 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x9530d7e6, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:36:27 121 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:36:27 281 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:36:27 412 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:36:27 544 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:36:27 656 INFO ] [main] / - Context refreshed
[2020-05-30 15:36:27 681 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:36:27 712 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:36:27 922 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:36:27 938 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:36:27 940 INFO ] [main] / - Started IMApplication in 6.299 seconds (JVM running for 6.896)
[2020-05-30 15:36:52 833 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:36:52 834 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:36:52 842 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 8 ms
[2020-05-30 15:36:53 447 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:187}] to 47.105.209.57:27017
[2020-05-30 15:37:10 723 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:114)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:38:49 162 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 17220 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:38:49 167 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:38:50 509 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:38:50 599 INFO ] [main] / - Finished Spring Data repository scanning in 77ms. Found 2 repository interfaces.
[2020-05-30 15:38:51 521 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:38:51 542 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:38:51 556 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:38:51 556 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:38:51 570 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:38:51 570 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:38:51 570 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:38:51 570 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:38:52 646 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:38:53 128 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:38:53 128 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3909 ms
[2020-05-30 15:38:53 713 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:38:53 967 INFO ] [cluster-ClusterId{value='5ed20d8de9ea6b43442068ac', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:188}] to 47.105.209.57:27017
[2020-05-30 15:38:54 040 INFO ] [cluster-ClusterId{value='5ed20d8de9ea6b43442068ac', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71658652}
[2020-05-30 15:38:54 064 WARN ] [main] / - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'nettyServer': Unsatisfied dependency expressed through field 'initializer'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'websocketChannelInitializer': Unsatisfied dependency expressed through field 'websocketHandler'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.byc.im.websocket.WebsocketHandler' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
[2020-05-30 15:38:54 068 INFO ] [main] / - Stopping service [Tomcat]
[2020-05-30 15:38:54 232 ERROR] [main] / - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field websocketHandler in com.byc.im.websocket.WebsocketChannelInitializer required a bean of type 'com.byc.im.websocket.WebsocketHandler' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.byc.im.websocket.WebsocketHandler' in your configuration.

[2020-05-30 15:39:28 940 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 7080 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:39:28 944 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:39:30 212 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:39:30 286 INFO ] [main] / - Finished Spring Data repository scanning in 56ms. Found 2 repository interfaces.
[2020-05-30 15:39:31 189 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:39:31 207 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:39:31 220 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:39:31 220 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:39:31 235 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:39:31 235 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:39:31 235 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:39:31 236 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:39:32 308 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:39:32 519 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:39:32 519 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3508 ms
[2020-05-30 15:39:32 855 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:39:33 093 INFO ] [cluster-ClusterId{value='5ed20db4e9ea6b1ba8e21246', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:189}] to 47.105.209.57:27017
[2020-05-30 15:39:33 141 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:39:33 162 INFO ] [cluster-ClusterId{value='5ed20db4e9ea6b1ba8e21246', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68141720}
[2020-05-30 15:39:33 427 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x1a5547bf, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:39:33 427 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:39:33 576 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:39:33 704 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:39:33 853 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:39:33 982 INFO ] [main] / - Context refreshed
[2020-05-30 15:39:34 009 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:39:34 040 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:39:34 305 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:39:34 321 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:39:34 323 INFO ] [main] / - Started IMApplication in 5.836 seconds (JVM running for 6.465)
[2020-05-30 15:39:40 738 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:39:40 738 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:39:40 745 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-05-30 15:39:41 257 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:190}] to 47.105.209.57:27017
[2020-05-30 15:39:42 255 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:40:00 868 WARN ] [nioEventLoopGroup-3-2] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:50:48 001 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 3892 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:50:48 006 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:50:49 252 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:50:49 339 INFO ] [main] / - Finished Spring Data repository scanning in 68ms. Found 2 repository interfaces.
[2020-05-30 15:50:50 397 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:50:50 412 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:50:50 422 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:50:50 423 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:50:50 433 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:50:50 434 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:50:50 434 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:50:50 434 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:50:51 493 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:50:51 622 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:50:51 622 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3527 ms
[2020-05-30 15:50:52 021 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:50:52 278 INFO ] [cluster-ClusterId{value='5ed2105ce9ea6b0f3423f48f', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:191}] to 47.105.209.57:27017
[2020-05-30 15:50:52 303 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:50:52 346 INFO ] [cluster-ClusterId{value='5ed2105ce9ea6b0f3423f48f', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66466449}
[2020-05-30 15:50:52 561 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x982a2eb3, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:50:52 561 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:50:52 697 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:50:52 827 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:50:52 953 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:50:53 100 INFO ] [main] / - Context refreshed
[2020-05-30 15:50:53 127 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:50:53 158 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:50:53 409 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:50:53 425 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:50:53 427 INFO ] [main] / - Started IMApplication in 5.945 seconds (JVM running for 6.47)
[2020-05-30 15:52:30 490 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:52:30 490 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:52:30 497 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-05-30 15:52:31 013 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:192}] to 47.105.209.57:27017
[2020-05-30 15:52:31 662 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:53:02 631 WARN ] [nioEventLoopGroup-3-2] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:53:17 804 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:54:29 680 WARN ] [nioEventLoopGroup-3-4] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:54:35 467 WARN ] [nioEventLoopGroup-3-5] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:56:47 262 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 2272 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:56:47 265 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:56:48 961 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:56:49 058 INFO ] [main] / - Finished Spring Data repository scanning in 75ms. Found 2 repository interfaces.
[2020-05-30 15:56:50 153 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:56:50 183 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:56:50 200 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:56:50 201 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:56:50 213 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:56:50 214 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:56:50 214 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:56:50 214 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:56:51 323 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:56:51 567 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:56:51 567 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4257 ms
[2020-05-30 15:56:51 960 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:56:52 203 INFO ] [cluster-ClusterId{value='5ed211c3e9ea6b08e0ef7c51', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:193}] to 47.105.209.57:27017
[2020-05-30 15:56:52 267 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:56:52 268 INFO ] [cluster-ClusterId{value='5ed211c3e9ea6b08e0ef7c51', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63817018}
[2020-05-30 15:56:52 515 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x60884b13, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:56:52 516 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:56:52 682 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:56:52 805 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:56:52 952 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:56:53 078 INFO ] [main] / - Context refreshed
[2020-05-30 15:56:53 102 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:56:53 131 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:56:53 357 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:56:53 396 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:56:53 398 INFO ] [main] / - Started IMApplication in 6.757 seconds (JVM running for 7.28)
[2020-05-30 15:56:58 241 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:56:58 241 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:56:58 246 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 5 ms
[2020-05-30 15:56:58 791 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:194}] to 47.105.209.57:27017
[2020-05-30 15:56:59 602 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:57:11 842 WARN ] [nioEventLoopGroup-3-2] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:57:23 079 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 15:58:58 429 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 7648 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 15:58:58 432 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 15:58:59 736 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 15:58:59 870 INFO ] [main] / - Finished Spring Data repository scanning in 114ms. Found 2 repository interfaces.
[2020-05-30 15:59:00 865 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 15:59:00 887 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:59:00 901 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 15:59:00 902 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 15:59:00 917 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 15:59:00 917 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 15:59:00 917 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 15:59:00 918 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 15:59:02 026 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 15:59:02 211 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 15:59:02 211 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3726 ms
[2020-05-30 15:59:02 538 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 15:59:02 780 INFO ] [cluster-ClusterId{value='5ed21246e9ea6b1de0c4a145', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:195}] to 47.105.209.57:27017
[2020-05-30 15:59:02 838 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 15:59:02 862 INFO ] [cluster-ClusterId{value='5ed21246e9ea6b1de0c4a145', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=79909859}
[2020-05-30 15:59:03 094 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x48e3d4cc, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 15:59:03 095 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 15:59:03 238 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 15:59:03 370 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 15:59:03 518 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 15:59:03 658 INFO ] [main] / - Context refreshed
[2020-05-30 15:59:03 682 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 15:59:03 714 INFO ] [main] / - Scanning for api listing references
[2020-05-30 15:59:03 945 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 15:59:04 030 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 15:59:04 032 INFO ] [main] / - Started IMApplication in 6.077 seconds (JVM running for 6.608)
[2020-05-30 15:59:31 750 INFO ] [http-nio-8081-exec-3] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 15:59:31 750 INFO ] [http-nio-8081-exec-3] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 15:59:31 755 INFO ] [http-nio-8081-exec-3] / - Completed initialization in 5 ms
[2020-05-30 15:59:32 391 INFO ] [http-nio-8081-exec-3] / - Opened connection [connectionId{localValue:2, serverValue:196}] to 47.105.209.57:27017
[2020-05-30 15:59:32 987 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x9ede85cd, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64319]
[2020-05-30 15:59:33 129 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: zbPDalo57OZTQ9d+7c7JPg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 15:59:33 132 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-05-30 15:59:33 133 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NumberFormatException: For input string: "/websocket"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:578)
	at java.lang.Long.valueOf(Long.java:803)
	at com.byc.im.websocket.WebsocketHandler.handleHttpRequest(WebsocketHandler.java:122)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:48)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-05-30 16:01:10 736 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 10724 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 16:01:10 739 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 16:01:12 164 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 16:01:12 342 INFO ] [main] / - Finished Spring Data repository scanning in 159ms. Found 2 repository interfaces.
[2020-05-30 16:01:13 027 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 16:01:13 044 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 16:01:13 054 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 16:01:13 054 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 16:01:13 064 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 16:01:13 065 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 16:01:13 065 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 16:01:13 065 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 16:01:14 136 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 16:01:14 332 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 16:01:14 332 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3545 ms
[2020-05-30 16:01:14 669 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 16:01:14 920 INFO ] [cluster-ClusterId{value='5ed212cae9ea6b29e484c7b9', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:198}] to 47.105.209.57:27017
[2020-05-30 16:01:14 993 INFO ] [cluster-ClusterId{value='5ed212cae9ea6b29e484c7b9', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71477188}
[2020-05-30 16:01:15 030 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 16:01:15 587 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x345168bb, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 16:01:15 587 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 16:01:15 801 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 16:01:15 924 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 16:01:16 075 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 16:01:16 195 INFO ] [main] / - Context refreshed
[2020-05-30 16:01:16 220 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 16:01:16 253 INFO ] [main] / - Scanning for api listing references
[2020-05-30 16:01:16 505 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 16:01:16 522 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 16:01:16 524 INFO ] [main] / - Started IMApplication in 6.154 seconds (JVM running for 6.76)
[2020-05-30 16:01:29 022 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 16:01:29 022 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 16:01:29 026 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 4 ms
[2020-05-30 16:01:29 509 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:199}] to 47.105.209.57:27017
[2020-05-30 16:01:30 357 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x8705e33d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64572]
[2020-05-30 16:01:30 390 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: MntsdXht0bqoTYdqvjNuEA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 16:01:30 394 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-05-30 16:02:39 807 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 14012 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-05-30 16:02:39 811 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-05-30 16:02:41 197 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-05-30 16:02:41 281 INFO ] [main] / - Finished Spring Data repository scanning in 69ms. Found 2 repository interfaces.
[2020-05-30 16:02:42 020 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-05-30 16:02:42 048 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-05-30 16:02:42 063 INFO ] [main] / - Starting service [Tomcat]
[2020-05-30 16:02:42 063 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-05-30 16:02:42 081 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-05-30 16:02:42 081 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-05-30 16:02:42 081 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-05-30 16:02:42 082 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-05-30 16:02:43 200 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-05-30 16:02:43 423 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-05-30 16:02:43 423 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3551 ms
[2020-05-30 16:02:43 925 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-05-30 16:02:44 357 INFO ] [cluster-ClusterId{value='5ed21323e9ea6b36bcb99203', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:200}] to 47.105.209.57:27017
[2020-05-30 16:02:44 404 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-05-30 16:02:44 552 INFO ] [cluster-ClusterId{value='5ed21323e9ea6b36bcb99203', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=194119259}
[2020-05-30 16:02:44 707 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xfaef8d00, L:/0:0:0:0:0:0:0:0:1234]
[2020-05-30 16:02:44 708 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-05-30 16:02:44 872 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-05-30 16:02:44 999 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-05-30 16:02:45 118 INFO ] [main] / - Adding welcome page template: index
[2020-05-30 16:02:45 245 INFO ] [main] / - Context refreshed
[2020-05-30 16:02:45 268 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-05-30 16:02:45 293 INFO ] [main] / - Scanning for api listing references
[2020-05-30 16:02:45 510 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-05-30 16:02:45 525 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-05-30 16:02:45 526 INFO ] [main] / - Started IMApplication in 6.154 seconds (JVM running for 6.772)
[2020-05-30 16:02:49 419 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-05-30 16:02:49 419 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-05-30 16:02:49 424 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 5 ms
[2020-05-30 16:02:49 887 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:201}] to 47.105.209.57:27017
[2020-05-30 16:02:50 427 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x474ce192, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62832]
[2020-05-30 16:02:50 590 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: ISHy8DiB41Px2+gaR7Ne7g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 16:02:50 594 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-05-30 16:03:02 138 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x3fb38e91, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62851]
[2020-05-30 16:03:02 140 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: UqQyj1TG0d3xPJB0pIjkkg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 16:03:02 140 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-05-30 16:03:12 519 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x3fb38e91, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62851]
[2020-05-30 16:03:12 619 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0xf7b332ba, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62867]
[2020-05-30 16:03:12 619 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: ju0XpLaEY67/aorVDDOERA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 16:03:12 619 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-05-30 16:03:13 338 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0xf7b332ba, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62867]
[2020-05-30 16:03:13 430 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x22e728db, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62869]
[2020-05-30 16:03:13 434 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: OgaNn7wQjA5RdV5VyI4lEQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 16:03:13 434 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-05-30 16:03:14 083 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0x22e728db, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62869]
[2020-05-30 16:03:14 181 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0x5678c942, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62871]
[2020-05-30 16:03:14 182 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: TRgsOTreAYzGvqulo4Liqg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-05-30 16:03:14 182 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
