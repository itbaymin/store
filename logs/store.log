[2020-06-08 07:01:07 835 INFO ] [cluster-ClusterId{value='5edb65dde9ea6b16901a951b', description='null'}-47.105.209.57:27017] / - Exception in monitor thread while connecting to server 47.105.209.57:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:67)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:126)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:131)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:64)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:62)
	... 3 common frames omitted
[2020-06-08 07:01:48 050 INFO ] [cluster-ClusterId{value='5edb65dde9ea6b16901a951b', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:5, serverValue:687}] to 47.105.209.57:27017
[2020-06-08 07:01:48 102 INFO ] [cluster-ClusterId{value='5edb65dde9ea6b16901a951b', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52268456}
[2020-06-08 09:04:40 259 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：CloseWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 2, cap: 2))
[2020-06-08 09:04:40 259 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0xce7e022a, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:63954]
[2020-06-08 09:04:42 129 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：CloseWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 2, cap: 2))
[2020-06-08 09:04:42 130 INFO ] [nioEventLoopGroup-3-6] / - 客户端断开连接：[id: 0x36df8970, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:56575]
[2020-06-08 09:15:24 036 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 18988 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-08 09:15:24 038 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-08 09:15:25 675 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-08 09:15:25 857 INFO ] [main] / - Finished Spring Data repository scanning in 75ms. Found 2 repository interfaces.
[2020-06-08 09:15:26 948 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-08 09:15:26 969 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-08 09:15:26 984 INFO ] [main] / - Starting service [Tomcat]
[2020-06-08 09:15:26 984 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-08 09:15:26 997 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-08 09:15:26 997 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-08 09:15:26 997 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-08 09:15:26 997 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-08 09:15:28 103 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-08 09:15:28 444 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-08 09:15:28 444 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4310 ms
[2020-06-08 09:15:28 872 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-08 09:15:29 137 INFO ] [cluster-ClusterId{value='5edd9130e9ea6b4a2c5bcb24', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:691}] to 47.105.209.57:27017
[2020-06-08 09:15:29 208 INFO ] [cluster-ClusterId{value='5edd9130e9ea6b4a2c5bcb24', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69849985}
[2020-06-08 09:15:29 254 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-08 09:15:29 569 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xd57c45e9, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-08 09:15:29 569 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-08 09:15:29 742 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-08 09:15:29 872 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-08 09:15:30 065 INFO ] [main] / - Adding welcome page template: index
[2020-06-08 09:15:30 231 INFO ] [main] / - Context refreshed
[2020-06-08 09:15:30 272 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-08 09:15:30 309 INFO ] [main] / - Scanning for api listing references
[2020-06-08 09:15:30 637 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-08 09:15:30 657 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-08 09:15:30 658 INFO ] [main] / - Started IMApplication in 7.299 seconds (JVM running for 8.101)
[2020-06-08 09:16:33 233 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-08 09:16:33 233 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-08 09:16:33 242 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 9 ms
[2020-06-08 09:16:33 896 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:692}] to 47.105.209.57:27017
[2020-06-08 09:16:34 884 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xaa0c7ba4, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:50350]
[2020-06-08 09:16:34 912 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: PbFGIMXkoxGa/DaAMxmgZA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:16:34 917 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:16:54 180 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0xaa0c7ba4, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:50350]
[2020-06-08 09:16:54 286 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x64588add, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:50379]
[2020-06-08 09:16:54 287 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: BvjWLtiulb7WysosVlN9IA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:16:54 288 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:20:22 578 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x64588add, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:50379]
[2020-06-08 09:20:22 902 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x70f09d4f, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64471]
[2020-06-08 09:20:22 902 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 1yvX0pBHlwBfelr4CZj/cg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:20:22 905 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:21:59 551 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x70f09d4f, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64471]
[2020-06-08 09:21:59 858 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xaa6eb107, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64597]
[2020-06-08 09:21:59 859 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: OfsBDSPKTxY+PEjLsrKf0A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:21:59 862 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:22 196 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0xaa6eb107, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64597]
[2020-06-08 09:22:22 289 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0xb802eabb, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64627]
[2020-06-08 09:22:22 289 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: ob+wXodDasKMAdEtWgRpmw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:22 292 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:22 907 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0xb802eabb, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64627]
[2020-06-08 09:22:23 016 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0x297729ca, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64631]
[2020-06-08 09:22:23 017 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: CoY2o0A1sACrGRZJqHTFpA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:23 020 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:23 176 INFO ] [nioEventLoopGroup-3-6] / - 客户端断开连接：[id: 0x297729ca, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64631]
[2020-06-08 09:22:23 262 INFO ] [nioEventLoopGroup-3-7] / - 客户端加入连接：[id: 0x34e9edb0, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64633]
[2020-06-08 09:22:23 263 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: S3+IexwZjubz/nAi4Mqe1w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:23 263 INFO ] [nioEventLoopGroup-3-7] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:25 778 INFO ] [nioEventLoopGroup-3-7] / - 客户端断开连接：[id: 0x34e9edb0, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64633]
[2020-06-08 09:22:25 907 INFO ] [nioEventLoopGroup-3-8] / - 客户端加入连接：[id: 0xd1431b54, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64639]
[2020-06-08 09:22:25 909 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: BhqemL8L1z9o4c3md8z+Gw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:25 911 INFO ] [nioEventLoopGroup-3-8] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:26 169 INFO ] [nioEventLoopGroup-3-8] / - 客户端断开连接：[id: 0xd1431b54, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64639]
[2020-06-08 09:22:26 259 INFO ] [nioEventLoopGroup-3-9] / - 客户端加入连接：[id: 0x01edccc7, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64640]
[2020-06-08 09:22:26 260 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: WsdF1JHn9KQuW0ODqT/nkg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:26 261 INFO ] [nioEventLoopGroup-3-9] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:26 394 INFO ] [nioEventLoopGroup-3-9] / - 客户端断开连接：[id: 0x01edccc7, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64640]
[2020-06-08 09:22:26 488 INFO ] [nioEventLoopGroup-3-10] / - 客户端加入连接：[id: 0xc1158b19, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64641]
[2020-06-08 09:22:26 488 INFO ] [nioEventLoopGroup-3-10] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: fWJNkv6p9SN8z4mRrdLhTA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:26 491 INFO ] [nioEventLoopGroup-3-10] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:26 593 INFO ] [nioEventLoopGroup-3-10] / - 客户端断开连接：[id: 0xc1158b19, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64641]
[2020-06-08 09:22:26 690 INFO ] [nioEventLoopGroup-3-11] / - 客户端加入连接：[id: 0xd00e2374, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64642]
[2020-06-08 09:22:26 691 INFO ] [nioEventLoopGroup-3-11] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 5+aJJlDFslowKeZ6W/ap3A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:26 694 INFO ] [nioEventLoopGroup-3-11] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:22:26 785 INFO ] [nioEventLoopGroup-3-11] / - 客户端断开连接：[id: 0xd00e2374, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64642]
[2020-06-08 09:22:26 879 INFO ] [nioEventLoopGroup-3-12] / - 客户端加入连接：[id: 0xd530a02f, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64643]
[2020-06-08 09:22:26 879 INFO ] [nioEventLoopGroup-3-12] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: nluQ9bDlbMSntBa2xDIR8g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:22:26 884 INFO ] [nioEventLoopGroup-3-12] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:24:41 424 INFO ] [nioEventLoopGroup-3-12] / - 客户端断开连接：[id: 0xd530a02f, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64643]
[2020-06-08 09:24:41 741 INFO ] [nioEventLoopGroup-3-13] / - 客户端加入连接：[id: 0x9b9c45ac, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:64862]
[2020-06-08 09:24:41 742 INFO ] [nioEventLoopGroup-3-13] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: VhVvE0/ZidDmQsZ0g3bgyQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:24:41 746 INFO ] [nioEventLoopGroup-3-13] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:28:06 288 INFO ] [nioEventLoopGroup-3-13] / - 客户端断开连接：[id: 0x9b9c45ac, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:64862]
[2020-06-08 09:28:06 707 INFO ] [nioEventLoopGroup-3-14] / - 客户端加入连接：[id: 0xdd44b8e7, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:65200]
[2020-06-08 09:28:06 707 INFO ] [nioEventLoopGroup-3-14] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: IXAIgVdrtofl6vcCYw/6MQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:28:06 710 INFO ] [nioEventLoopGroup-3-14] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:28:17 619 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 24196 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-08 09:28:17 621 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-08 09:28:19 197 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-08 09:28:19 468 INFO ] [main] / - Finished Spring Data repository scanning in 256ms. Found 2 repository interfaces.
[2020-06-08 09:28:20 314 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-08 09:28:20 330 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-08 09:28:20 346 INFO ] [main] / - Starting service [Tomcat]
[2020-06-08 09:28:20 346 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-08 09:28:20 361 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-08 09:28:20 361 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-08 09:28:20 361 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-08 09:28:20 361 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-08 09:28:21 458 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-08 09:28:21 694 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-08 09:28:21 694 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3919 ms
[2020-06-08 09:28:22 094 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-08 09:28:22 353 INFO ] [cluster-ClusterId{value='5edd9436e9ea6b5e84a2feb2', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:693}] to 47.105.209.57:27017
[2020-06-08 09:28:22 428 INFO ] [cluster-ClusterId{value='5edd9436e9ea6b5e84a2feb2', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=72995740}
[2020-06-08 09:28:22 472 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-08 09:28:22 830 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xf4fa9738, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-08 09:28:22 831 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-08 09:28:23 040 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-08 09:28:23 167 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-08 09:28:23 349 INFO ] [main] / - Adding welcome page template: index
[2020-06-08 09:28:23 510 INFO ] [main] / - Context refreshed
[2020-06-08 09:28:23 541 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-08 09:28:23 582 INFO ] [main] / - Scanning for api listing references
[2020-06-08 09:28:23 903 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-08 09:28:23 924 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-08 09:28:23 926 INFO ] [main] / - Started IMApplication in 6.836 seconds (JVM running for 7.56)
[2020-06-08 09:30:21 895 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-08 09:30:21 895 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-08 09:30:21 901 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-06-08 09:30:22 689 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:694}] to 47.105.209.57:27017
[2020-06-08 09:30:23 407 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x5132bc4e, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:65485]
[2020-06-08 09:30:23 426 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: vUxMfrtIutJqh2O2XiTQcA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:30:23 429 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:33:27 640 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x5132bc4e, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:65485]
[2020-06-08 09:33:27 957 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x807a3d95, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:49452]
[2020-06-08 09:33:27 958 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: kViMACP360FGsqY4rntn8g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:33:27 962 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:33:46 183 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x807a3d95, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:49452]
[2020-06-08 09:33:46 272 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0xa7abab25, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:49484]
[2020-06-08 09:33:46 273 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: I2qcicQcBtyJitkVI5C2vA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:33:46 274 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:33:46 896 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0xa7abab25, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:49484]
[2020-06-08 09:33:46 989 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x8e6d3bcf, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:49488]
[2020-06-08 09:33:46 989 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: BRJUFgbQzF4P+9FT5gW+Aw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-08 09:33:46 991 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-08 09:34:06 086 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 207, cap: 207))
[2020-06-08 09:34:06 090 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":2,"target":1,"type":"P","data":{"content":"碍事法师的法师","headImg":"background-image:url(http://img.52z.com/upload/news/image/20180213/20180213062640_77463.jpg)"}}}
[2020-06-08 09:34:06 140 WARN ] [nioEventLoopGroup-3-4] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:166)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
