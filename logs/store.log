[2020-06-09 09:27:13 167 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 24552 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 09:27:13 172 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 09:27:14 774 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 09:27:14 861 INFO ] [main] / - Finished Spring Data repository scanning in 74ms. Found 2 repository interfaces.
[2020-06-09 09:27:15 580 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 09:27:15 599 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 09:27:15 612 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 09:27:15 612 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 09:27:15 632 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 09:27:15 632 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 09:27:15 632 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 09:27:15 632 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 09:27:16 725 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 09:27:16 966 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 09:27:16 966 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3736 ms
[2020-06-09 09:27:17 330 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 09:27:17 587 INFO ] [cluster-ClusterId{value='5edee575e9ea6b5fe89de3fe', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:788}] to 47.105.209.57:27017
[2020-06-09 09:27:17 659 INFO ] [cluster-ClusterId{value='5edee575e9ea6b5fe89de3fe', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70004997}
[2020-06-09 09:27:17 701 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 09:27:18 008 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x5266b264, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 09:27:18 008 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 09:27:18 162 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 09:27:18 298 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 09:27:18 455 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 09:27:18 574 INFO ] [main] / - Context refreshed
[2020-06-09 09:27:18 610 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 09:27:18 635 INFO ] [main] / - Scanning for api listing references
[2020-06-09 09:27:18 901 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 09:27:18 919 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 09:27:18 920 INFO ] [main] / - Started IMApplication in 6.117 seconds (JVM running for 6.698)
[2020-06-09 09:28:56 558 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 09:28:56 558 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 09:28:56 564 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-06-09 09:28:57 094 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:789}] to 47.105.209.57:27017
[2020-06-09 09:28:58 027 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xec8765a6, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:53884]
[2020-06-09 09:28:58 052 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: JxUym/tqs2k0jXJKUWQBeQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 09:28:58 061 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 09:29:28 018 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0xec8765a6, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:53884]
[2020-06-09 09:29:28 133 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x64dc706b, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:53929]
[2020-06-09 09:29:28 134 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 3GL+DCTyXqLOf6S+YIZvoA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 09:29:28 138 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 09:29:42 283 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 7560 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 09:29:42 284 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 09:29:43 524 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 09:29:43 608 INFO ] [main] / - Finished Spring Data repository scanning in 70ms. Found 2 repository interfaces.
[2020-06-09 09:29:44 696 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 09:29:44 720 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 09:29:44 731 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 09:29:44 732 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 09:29:44 746 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 09:29:44 746 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 09:29:44 746 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 09:29:44 746 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 09:29:45 828 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 09:29:46 081 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 09:29:46 082 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3747 ms
[2020-06-09 09:29:46 448 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 09:29:46 664 INFO ] [cluster-ClusterId{value='5edee60ae9ea6b1d8834b492', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:790}] to 47.105.209.57:27017
[2020-06-09 09:29:46 737 INFO ] [cluster-ClusterId{value='5edee60ae9ea6b1d8834b492', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69735361}
[2020-06-09 09:29:46 764 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 09:29:47 006 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xd4a6a592, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 09:29:47 006 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 09:29:47 166 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 09:29:47 277 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 09:29:47 420 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 09:29:47 537 INFO ] [main] / - Context refreshed
[2020-06-09 09:29:47 572 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 09:29:47 610 INFO ] [main] / - Scanning for api listing references
[2020-06-09 09:29:47 872 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 09:29:47 888 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 09:29:47 890 INFO ] [main] / - Started IMApplication in 5.984 seconds (JVM running for 6.542)
[2020-06-09 09:44:35 824 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 09:44:35 824 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 09:44:35 831 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-06-09 09:44:36 334 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:791}] to 47.105.209.57:27017
[2020-06-09 09:44:37 073 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x372b2d76, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:63141]
[2020-06-09 09:44:37 092 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: TWbkelynCjyWi3kRcvn1NQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 09:44:37 096 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 10:07:45 530 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x372b2d76, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:63141]
[2020-06-09 10:07:45 674 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x36c13616, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54739]
[2020-06-09 10:07:45 675 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: KqvF5lUci0Dfb6o//J5R6A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 10:07:45 678 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 10:08:11 213 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x36c13616, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:54739]
[2020-06-09 10:08:11 322 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x1d6173c2, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54781]
[2020-06-09 10:08:11 324 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: bkE5/r7GFQg7Bx4falqx9Q==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 10:08:11 325 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 10:09:20 818 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x1d6173c2, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:54781]
[2020-06-09 10:09:20 938 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x4535454f, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54885]
[2020-06-09 10:09:20 939 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: tK8+6wKMi8WJMKhdhh+dqw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 10:09:20 940 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 10:10:46 480 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0x4535454f, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:54885]
[2020-06-09 10:10:46 572 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0xf1415cc0, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55010]
[2020-06-09 10:10:46 573 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: ekREKThmnddd847Hh/rY6A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 10:10:46 574 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 11:01:21 669 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 20628 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 11:01:21 670 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 11:01:22 845 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 11:01:22 923 INFO ] [main] / - Finished Spring Data repository scanning in 64ms. Found 2 repository interfaces.
[2020-06-09 11:01:23 677 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 11:01:23 702 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 11:01:23 717 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 11:01:23 717 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 11:01:23 732 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 11:01:23 732 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 11:01:23 732 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 11:01:23 732 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 11:01:24 823 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 11:01:25 086 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 11:01:25 086 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3338 ms
[2020-06-09 11:01:25 448 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 11:01:25 700 INFO ] [cluster-ClusterId{value='5edefb85e9ea6b509422c6c6', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:794}] to 47.105.209.57:27017
[2020-06-09 11:01:25 719 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 11:01:25 772 INFO ] [cluster-ClusterId{value='5edefb85e9ea6b509422c6c6', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=70464630}
[2020-06-09 11:01:25 976 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xa2ae6d86, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 11:01:25 976 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 11:01:26 142 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 11:01:26 270 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 11:01:26 408 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 11:01:26 536 INFO ] [main] / - Context refreshed
[2020-06-09 11:01:26 563 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 11:01:26 593 INFO ] [main] / - Scanning for api listing references
[2020-06-09 11:01:26 890 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 11:01:26 907 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 11:01:26 909 INFO ] [main] / - Started IMApplication in 5.782 seconds (JVM running for 6.309)
[2020-06-09 11:01:35 511 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 11:01:35 511 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 11:01:35 517 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-06-09 11:01:36 015 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:795}] to 47.105.209.57:27017
[2020-06-09 11:01:36 626 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x513d7af0, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:59841]
[2020-06-09 11:01:36 786 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: VHy8g6M0l1BjU0+keRpnFA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 11:01:36 790 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 11:01:51 204 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:01:51 205 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:01:51 250 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:01:53 360 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:01:53 360 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:01:53 362 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:01:54 069 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:01:54 069 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:01:54 071 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:01:54 584 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:01:54 584 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:01:54 587 WARN ] [nioEventLoopGroup-3-1] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:55:42 327 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x513d7af0, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:59841]
[2020-06-09 11:55:42 484 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x5e6c4c98, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55676]
[2020-06-09 11:55:42 486 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: yQSfryowXyYJrFtuTZt3XA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 11:55:42 486 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 11:56:28 320 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x7cda8f85, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55765]
[2020-06-09 11:56:28 321 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 6rifQBY34Oq7LNToNxzoKg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 11:56:28 324 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 11:56:35 279 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:56:35 279 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:56:35 283 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:02 983 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x5e6c4c98, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:55676]
[2020-06-09 11:57:03 112 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xc97e35e0, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55818]
[2020-06-09 11:57:03 113 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: BiOKW8nXhBhbHuPc7n0AIQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 11:57:03 115 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 11:57:10 975 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:10 976 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:10 979 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:21 302 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:21 302 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:21 303 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:34 418 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:34 418 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:34 422 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:34 887 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:34 887 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:34 889 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:35 087 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:35 087 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:35 089 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:35 309 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:35 309 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:35 311 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:43 503 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:43 503 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:43 505 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:43 973 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:43 973 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:43 976 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:57:44 173 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:57:44 173 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:57:44 175 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 11:59:17 225 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 11:59:17 225 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 11:59:43 537 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 12:00:04 326 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 12:00:04 326 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 12:00:12 365 WARN ] [nioEventLoopGroup-3-3] / - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
java.lang.NullPointerException: null
	at com.byc.im.entity.Message.build(Message.java:35)
	at com.byc.im.service.IMService.saveMessage(IMService.java:58)
	at com.byc.im.websocket.WebsocketHandler.p2p(WebsocketHandler.java:197)
	at com.byc.im.websocket.WebsocketHandler.WebSocketDispatcher(WebsocketHandler.java:182)
	at com.byc.im.websocket.WebsocketHandler.handlerWebSocketFrame(WebsocketHandler.java:101)
	at com.byc.im.websocket.WebsocketHandler.channelRead0(WebsocketHandler.java:56)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:748)
[2020-06-09 12:01:35 075 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 21108 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 12:01:35 076 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 12:01:36 408 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 12:01:36 560 INFO ] [main] / - Finished Spring Data repository scanning in 122ms. Found 2 repository interfaces.
[2020-06-09 12:01:37 548 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 12:01:37 566 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 12:01:37 579 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 12:01:37 579 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 12:01:37 589 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 12:01:37 589 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 12:01:37 589 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 12:01:37 589 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 12:01:38 662 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 12:01:38 888 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 12:01:38 888 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3750 ms
[2020-06-09 12:01:39 232 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 12:01:39 568 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 12:01:39 751 INFO ] [cluster-ClusterId{value='5edf09a3e9ea6b5274a01468', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:796}] to 47.105.209.57:27017
[2020-06-09 12:01:39 893 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x853d1fd8, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 12:01:39 893 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 12:01:40 047 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 12:01:40 093 INFO ] [cluster-ClusterId{value='5edf09a3e9ea6b5274a01468', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=339577439}
[2020-06-09 12:01:40 175 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 12:01:40 344 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 12:01:40 489 INFO ] [main] / - Context refreshed
[2020-06-09 12:01:40 517 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 12:01:40 559 INFO ] [main] / - Scanning for api listing references
[2020-06-09 12:01:40 890 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 12:01:40 909 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 12:01:40 911 INFO ] [main] / - Started IMApplication in 6.284 seconds (JVM running for 6.834)
[2020-06-09 12:04:32 452 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 12:04:32 452 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 12:04:32 458 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-06-09 12:04:32 990 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:797}] to 47.105.209.57:27017
[2020-06-09 12:04:33 896 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x9aaa738d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51616]
[2020-06-09 12:04:33 920 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: st5rkKc/LyTuDAw5fWIXQg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 12:04:33 926 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 12:04:34 853 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x4a1689e7, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51624]
[2020-06-09 12:04:34 855 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 7DTl0RyZpm19HL/Dz1fzZQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 12:04:34 857 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 12:04:42 672 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 12:04:42 674 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 12:05:04 527 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 12:05:04 527 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 12:05:05 038 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 74, cap: 74))
[2020-06-09 12:05:05 038 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{}}}
[2020-06-09 14:32:06 804 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 20836 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 14:32:06 806 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 14:32:08 372 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 14:32:08 466 INFO ] [main] / - Finished Spring Data repository scanning in 77ms. Found 2 repository interfaces.
[2020-06-09 14:32:09 202 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 14:32:09 218 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 14:32:09 229 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 14:32:09 230 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 14:32:09 242 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 14:32:09 243 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 14:32:09 243 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 14:32:09 243 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 14:32:10 342 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 14:32:10 558 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 14:32:10 558 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3698 ms
[2020-06-09 14:32:10 899 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 14:32:11 165 INFO ] [cluster-ClusterId{value='5edf2ceae9ea6b516423187c', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:800}] to 47.105.209.57:27017
[2020-06-09 14:32:11 240 INFO ] [cluster-ClusterId{value='5edf2ceae9ea6b516423187c', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=73539279}
[2020-06-09 14:32:11 242 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 14:32:11 487 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xcc576430, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 14:32:11 487 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 14:32:11 659 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 14:32:11 796 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 14:32:11 930 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 14:32:12 051 INFO ] [main] / - Context refreshed
[2020-06-09 14:32:12 081 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 14:32:12 113 INFO ] [main] / - Scanning for api listing references
[2020-06-09 14:32:12 368 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 14:32:12 383 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 14:32:12 385 INFO ] [main] / - Started IMApplication in 6.089 seconds (JVM running for 6.632)
[2020-06-09 14:33:12 921 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 14:33:12 921 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 14:33:12 929 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 8 ms
[2020-06-09 14:33:13 406 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:801}] to 47.105.209.57:27017
[2020-06-09 14:33:14 160 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x3628805b, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:49655]
[2020-06-09 14:33:14 354 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: +Qm4sq2tNHZTqWb3gAvbxw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:33:14 360 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:46:25 881 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 23432 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 14:46:25 883 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 14:46:27 470 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 14:46:27 571 INFO ] [main] / - Finished Spring Data repository scanning in 82ms. Found 2 repository interfaces.
[2020-06-09 14:46:28 589 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 14:46:28 620 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 14:46:28 635 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 14:46:28 636 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 14:46:28 658 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 14:46:28 658 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 14:46:28 658 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 14:46:28 658 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 14:46:29 750 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 14:46:30 128 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 14:46:30 129 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4189 ms
[2020-06-09 14:46:30 739 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 14:46:31 009 INFO ] [cluster-ClusterId{value='5edf3046e9ea6b5b88bcfbf4', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:802}] to 47.105.209.57:27017
[2020-06-09 14:46:31 078 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 14:46:31 082 INFO ] [cluster-ClusterId{value='5edf3046e9ea6b5b88bcfbf4', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=72626555}
[2020-06-09 14:46:31 414 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x7f6aca7e, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 14:46:31 415 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 14:46:31 587 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 14:46:31 721 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 14:46:31 869 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 14:46:32 029 INFO ] [main] / - Context refreshed
[2020-06-09 14:46:32 070 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 14:46:32 115 INFO ] [main] / - Scanning for api listing references
[2020-06-09 14:46:32 497 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 14:46:32 547 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 14:46:32 549 INFO ] [main] / - Started IMApplication in 7.238 seconds (JVM running for 7.87)
[2020-06-09 14:46:38 507 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 14:46:38 507 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 14:46:38 517 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 10 ms
[2020-06-09 14:46:39 081 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:803}] to 47.105.209.57:27017
[2020-06-09 14:46:39 695 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x9e209005, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:50953]
[2020-06-09 14:46:39 856 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: YaieAlXXfR1jUCl254ixHA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:46:39 860 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:46:40 825 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0xeb0de04c, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:50962]
[2020-06-09 14:46:40 826 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: n3ympC0b0PPUDvf3tlk1Gw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:46:40 828 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:46:48 905 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 14:46:48 906 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 14:49:55 580 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x9e209005, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:50953]
[2020-06-09 14:49:55 694 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0xdb01cb23, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51255]
[2020-06-09 14:49:55 695 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Sedkk8CunvXWdinSXre3FA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:49:55 698 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:49:58 690 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0xeb0de04c, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:50962]
[2020-06-09 14:49:58 790 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x2790c488, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51263]
[2020-06-09 14:49:58 790 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 9NV0huzwrgkLmQ4bO7GSjQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:49:58 794 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:50:08 207 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 14:50:08 207 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 14:50:17 596 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 24324 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 14:50:17 598 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 14:50:19 146 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 14:50:19 229 INFO ] [main] / - Finished Spring Data repository scanning in 64ms. Found 2 repository interfaces.
[2020-06-09 14:50:20 039 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 14:50:20 073 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 14:50:20 092 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 14:50:20 093 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 14:50:20 110 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 14:50:20 111 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 14:50:20 111 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 14:50:20 111 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 14:50:21 242 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 14:50:21 452 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 14:50:21 452 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3779 ms
[2020-06-09 14:50:21 828 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 14:50:22 089 INFO ] [cluster-ClusterId{value='5edf312de9ea6b5f045b7fc9', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:804}] to 47.105.209.57:27017
[2020-06-09 14:50:22 121 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 14:50:22 156 INFO ] [cluster-ClusterId{value='5edf312de9ea6b5f045b7fc9', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65726657}
[2020-06-09 14:50:22 393 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x645088ca, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 14:50:22 393 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 14:50:22 590 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 14:50:22 712 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 14:50:22 854 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 14:50:22 991 INFO ] [main] / - Context refreshed
[2020-06-09 14:50:23 022 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 14:50:23 061 INFO ] [main] / - Scanning for api listing references
[2020-06-09 14:50:23 402 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 14:50:23 423 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 14:50:23 426 INFO ] [main] / - Started IMApplication in 6.415 seconds (JVM running for 7.294)
[2020-06-09 14:50:29 008 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 14:50:29 008 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 14:50:29 037 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 29 ms
[2020-06-09 14:50:29 540 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:805}] to 47.105.209.57:27017
[2020-06-09 14:50:30 232 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x90ad5c5d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51398]
[2020-06-09 14:50:30 499 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: CK8XvrWpIo53xdGy+nAPVw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:50:30 508 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:50:30 949 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x3e282d97, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51404]
[2020-06-09 14:50:30 951 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 59BWWiWMX76KHyWZNHMGmw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:50:30 953 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:50:45 777 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 14:50:45 779 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 14:52:27 066 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x90ad5c5d, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:51398]
[2020-06-09 14:52:27 198 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x20bffc39, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:51577]
[2020-06-09 14:52:27 199 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: /a3GKHoXeVZq0WubyCkDKQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 14:52:27 202 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 14:52:29 968 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 14:52:29 968 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:14 730 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x3e282d97, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:51404]
[2020-06-09 15:03:14 813 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xc516e259, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:52594]
[2020-06-09 15:03:14 814 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?8 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: iApI2vLzbIzsccDW0tNHjg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 15:03:14 818 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 15:03:15 958 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x20bffc39, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:51577]
[2020-06-09 15:03:16 063 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0x4f56183b, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:52600]
[2020-06-09 15:03:16 065 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 08mfHKbawLFno9yGaPuVVQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 15:03:16 066 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 15:03:17 876 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0x4f56183b, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:52600]
[2020-06-09 15:03:17 969 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0xeee5c76e, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:63422]
[2020-06-09 15:03:17 970 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: k76veahOux7CPp6B/u3D8g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 15:03:17 973 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 15:03:24 984 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:24 984 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:27 616 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:27 616 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:27 798 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:27 798 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:27 982 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:27 982 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:28 550 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:28 550 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:29 088 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:29 089 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:29 188 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:29 188 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:29 289 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:29 289 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:03:45 966 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 15:03:45 966 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":8,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 15:05:47 096 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 99, cap: 99))
[2020-06-09 15:05:47 096 INFO ] [nioEventLoopGroup-3-6] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":8,"type":"FAPPLY","data":{"username":"baiyongcheng"}}}
[2020-06-09 16:49:13 192 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 22152 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 16:49:13 194 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 16:49:14 565 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 16:49:14 653 INFO ] [main] / - Finished Spring Data repository scanning in 59ms. Found 2 repository interfaces.
[2020-06-09 16:49:15 583 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 16:49:15 599 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 16:49:15 610 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 16:49:15 610 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 16:49:15 620 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 16:49:15 620 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 16:49:15 620 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 16:49:15 620 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 16:49:16 695 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 16:49:16 894 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 16:49:16 895 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3646 ms
[2020-06-09 16:49:17 254 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 16:49:17 534 INFO ] [cluster-ClusterId{value='5edf4d0de9ea6b56886c3b3b', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:810}] to 47.105.209.57:27017
[2020-06-09 16:49:17 611 INFO ] [cluster-ClusterId{value='5edf4d0de9ea6b56886c3b3b', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=75791367}
[2020-06-09 16:49:17 670 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 16:49:17 954 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x1c54e60d, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 16:49:17 955 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 16:49:18 139 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 16:49:18 281 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 16:49:18 434 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 16:49:18 571 INFO ] [main] / - Context refreshed
[2020-06-09 16:49:18 599 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 16:49:18 640 INFO ] [main] / - Scanning for api listing references
[2020-06-09 16:49:18 909 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 16:49:18 925 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 16:49:18 927 INFO ] [main] / - Started IMApplication in 6.142 seconds (JVM running for 6.756)
[2020-06-09 16:50:50 545 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 16:50:50 545 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 16:50:50 550 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 5 ms
[2020-06-09 16:50:51 076 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:811}] to 47.105.209.57:27017
[2020-06-09 16:51:20 880 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xe907df64, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60311]
[2020-06-09 16:51:20 909 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Kb/QU2zzVC/MjDt754WaPA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 16:51:20 913 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 16:51:51 246 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0xa7b20772, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60363]
[2020-06-09 16:51:51 247 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: KB95EGnxr40uPn96j+Mwrg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 16:51:51 247 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 16:53:14 121 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 16:53:14 122 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":1,"target":2,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 16:59:18 357 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0xa7b20772, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60363]
[2020-06-09 16:59:18 451 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x41a6fc66, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61038]
[2020-06-09 16:59:18 452 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: T43KVigmm2rweQaIYaX6tQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 16:59:18 453 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 16:59:20 064 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0xe907df64, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60311]
[2020-06-09 16:59:20 166 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xfad3e141, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61047]
[2020-06-09 16:59:20 167 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Rb/CzOGOvbjvzj8Pix5SWQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 16:59:20 168 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 16:59:26 047 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 16:59:26 047 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":1,"target":2,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 17:01:12 991 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x41a6fc66, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61038]
[2020-06-09 17:01:13 097 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0x87deaa90, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61215]
[2020-06-09 17:01:13 098 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Lpl8TTCe0sjjwj/rAPqRgg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:01:13 100 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:01:15 211 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0x87deaa90, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61215]
[2020-06-09 17:01:15 312 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0x6abfdd22, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61221]
[2020-06-09 17:01:15 313 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: OzI1dcL8gfk6czGax79V2w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:01:15 315 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:01:16 846 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0xfad3e141, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61047]
[2020-06-09 17:01:16 936 INFO ] [nioEventLoopGroup-3-7] / - 客户端加入连接：[id: 0x4f6dbbd4, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61225]
[2020-06-09 17:01:16 937 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Td2OFFBQuT/yupjz4Ae7Rw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:01:16 938 INFO ] [nioEventLoopGroup-3-7] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:01:17 680 INFO ] [nioEventLoopGroup-3-7] / - 客户端断开连接：[id: 0x4f6dbbd4, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61225]
[2020-06-09 17:01:17 765 INFO ] [nioEventLoopGroup-3-8] / - 客户端加入连接：[id: 0xb0625444, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61227]
[2020-06-09 17:01:17 766 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: g0+533gLhswzWKxTOCcYHg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:01:17 767 INFO ] [nioEventLoopGroup-3-8] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:01:24 257 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 118, cap: 118))
[2020-06-09 17:01:24 257 INFO ] [nioEventLoopGroup-3-8] / - 服务端收到：{"code":"200","payLoad":{"source":1,"target":2,"type":"P","data":{"content":"hello","headImg":"/image/headimg3.jpg"}}}
[2020-06-09 17:01:24 585 INFO ] [http-nio-8081-exec-6] / - Opened connection [connectionId{localValue:3, serverValue:813}] to 47.105.209.57:27017
[2020-06-09 17:01:35 973 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 121, cap: 121))
[2020-06-09 17:01:35 973 INFO ] [nioEventLoopGroup-3-6] / - 服务端收到：{"code":"200","payLoad":{"source":2,"target":1,"type":"P","data":{"content":"gaobugao","headImg":"/image/headimg3.jpg"}}}
[2020-06-09 17:02:13 189 INFO ] [nioEventLoopGroup-3-9] / - 客户端加入连接：[id: 0x7f6da1c3, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61319]
[2020-06-09 17:02:13 189 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: hFPoQoCqliDZ7wic6LA9OQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:02:13 190 INFO ] [nioEventLoopGroup-3-9] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:02:28 742 INFO ] [nioEventLoopGroup-3-8] / - 客户端断开连接：[id: 0xb0625444, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61227]
[2020-06-09 17:02:28 873 INFO ] [nioEventLoopGroup-3-10] / - 客户端加入连接：[id: 0x3190a4a1, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61353]
[2020-06-09 17:02:28 873 INFO ] [nioEventLoopGroup-3-10] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 08nslB9NyqjiL7kOHklqTg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:02:28 877 INFO ] [nioEventLoopGroup-3-10] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:02:29 814 INFO ] [nioEventLoopGroup-3-6] / - 客户端断开连接：[id: 0x6abfdd22, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61221]
[2020-06-09 17:02:29 905 INFO ] [nioEventLoopGroup-3-11] / - 客户端加入连接：[id: 0x6b438ef3, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61355]
[2020-06-09 17:02:29 906 INFO ] [nioEventLoopGroup-3-11] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: UtAoyzcmt0oXlBWC7+WBqA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:02:29 907 INFO ] [nioEventLoopGroup-3-11] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:02:32 780 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 17:02:32 780 INFO ] [nioEventLoopGroup-3-9] / - 服务端收到：{"code":"200","payLoad":{"source":3,"target":1,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 17:02:49 255 INFO ] [nioEventLoopGroup-3-9] / - 客户端断开连接：[id: 0x7f6da1c3, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61319]
[2020-06-09 17:02:49 352 INFO ] [nioEventLoopGroup-3-12] / - 客户端加入连接：[id: 0x1d949c25, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61383]
[2020-06-09 17:02:49 353 INFO ] [nioEventLoopGroup-3-12] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Sv2u6THmVVfrNvKfm/YrHA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:02:49 353 INFO ] [nioEventLoopGroup-3-12] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:02:56 913 INFO ] [nioEventLoopGroup-3-12] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 124, cap: 124))
[2020-06-09 17:02:56 913 INFO ] [nioEventLoopGroup-3-12] / - 服务端收到：{"code":"200","payLoad":{"source":3,"target":1,"type":"P","data":{"content":"asdfasdfasd","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 17:03:03 592 INFO ] [nioEventLoopGroup-3-10] / - 客户端断开连接：[id: 0x3190a4a1, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61353]
[2020-06-09 17:03:03 722 INFO ] [nioEventLoopGroup-3-13] / - 客户端加入连接：[id: 0xa22f392c, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61402]
[2020-06-09 17:03:03 723 INFO ] [nioEventLoopGroup-3-13] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: huR8yTNmT9rQs3/x+tR01A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:03:03 723 INFO ] [nioEventLoopGroup-3-13] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:03:11 451 INFO ] [nioEventLoopGroup-3-11] / - 客户端断开连接：[id: 0x6b438ef3, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:61355]
[2020-06-09 17:03:11 518 INFO ] [nioEventLoopGroup-3-14] / - 客户端加入连接：[id: 0xa1507e8c, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61419]
[2020-06-09 17:03:11 519 INFO ] [nioEventLoopGroup-3-14] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: UCjNKX/kqxckx3mKht6NDQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:03:11 523 INFO ] [nioEventLoopGroup-3-14] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:04:33 990 INFO ] [nioEventLoopGroup-3-12] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 17:04:33 990 INFO ] [nioEventLoopGroup-3-12] / - 服务端收到：{"code":"200","payLoad":{"source":3,"target":2,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 17:05:28 634 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 5500 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 17:05:28 636 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 17:05:30 187 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 17:05:30 284 INFO ] [main] / - Finished Spring Data repository scanning in 71ms. Found 2 repository interfaces.
[2020-06-09 17:05:31 031 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 17:05:31 053 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 17:05:31 065 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 17:05:31 065 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 17:05:31 077 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 17:05:31 077 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 17:05:31 077 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 17:05:31 077 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 17:05:32 169 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 17:05:32 383 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 17:05:32 383 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3694 ms
[2020-06-09 17:05:32 754 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 17:05:32 984 INFO ] [cluster-ClusterId{value='5edf50dce9ea6b157c02d13f', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:814}] to 47.105.209.57:27017
[2020-06-09 17:05:33 057 INFO ] [cluster-ClusterId{value='5edf50dce9ea6b157c02d13f', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71249647}
[2020-06-09 17:05:33 142 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 17:05:33 498 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xd7db2412, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 17:05:33 499 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 17:05:33 680 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 17:05:33 847 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 17:05:34 031 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 17:05:34 180 INFO ] [main] / - Context refreshed
[2020-06-09 17:05:34 246 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 17:05:34 291 INFO ] [main] / - Scanning for api listing references
[2020-06-09 17:05:34 596 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 17:05:34 613 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 17:05:34 614 INFO ] [main] / - Started IMApplication in 6.419 seconds (JVM running for 7.004)
[2020-06-09 17:35:48 685 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 17:35:48 685 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 17:35:48 692 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-06-09 17:35:49 199 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:815}] to 47.105.209.57:27017
[2020-06-09 17:35:50 219 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xd917d631, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62337]
[2020-06-09 17:35:50 251 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: wuH9PjuaSgpp3w7kg9cEsQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:35:50 256 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:35:53 417 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x9743375d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62348]
[2020-06-09 17:35:53 418 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 77gMVyrWk72gv1aMMXUfsw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:35:53 420 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:35:55 209 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x6fa070df, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62351]
[2020-06-09 17:35:55 210 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: kAIR1BDxY+UcddgNn9l8Dg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:35:55 210 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:58:44 508 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x6fa070df, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62351]
[2020-06-09 17:58:44 628 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x59dc868c, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56117]
[2020-06-09 17:58:44 629 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Bqkb4EndqGBbaxoJIkr2UQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:58:44 631 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:58:45 772 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x9743375d, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62348]
[2020-06-09 17:58:45 879 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0x566c7e78, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56124]
[2020-06-09 17:58:45 879 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 2TOJdC+7re2EfFv+KLGNow==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:58:45 881 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:58:46 678 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0xd917d631, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62337]
[2020-06-09 17:58:46 798 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0xfec09542, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56128]
[2020-06-09 17:58:46 798 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: +P2m2mg4sYbyjLhbmJZCmw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 17:58:46 800 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 17:59:00 873 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 17:59:00 874 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":2,"target":1,"type":"FAPPLY","data":{"username":"bai2"}}}
[2020-06-09 18:00:07 889 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0x566c7e78, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:56124]
[2020-06-09 18:00:07 966 INFO ] [nioEventLoopGroup-3-7] / - 客户端加入连接：[id: 0x89747593, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60966]
[2020-06-09 18:00:07 966 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: LzSdNvmbLh6OQuwifbwlrQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:00:07 969 INFO ] [nioEventLoopGroup-3-7] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:00:12 112 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0x59dc868c, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:56117]
[2020-06-09 18:00:12 240 INFO ] [nioEventLoopGroup-3-8] / - 客户端加入连接：[id: 0x5ab16fcf, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60976]
[2020-06-09 18:00:12 241 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: wz5xi/1NzEAlGTqzJ1UiSg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:00:12 243 INFO ] [nioEventLoopGroup-3-8] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:26:39 005 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 21768 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 18:26:39 007 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 18:26:40 360 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 18:26:40 485 INFO ] [main] / - Finished Spring Data repository scanning in 104ms. Found 2 repository interfaces.
[2020-06-09 18:26:41 731 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 18:26:41 759 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 18:26:41 781 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 18:26:41 782 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 18:26:41 799 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 18:26:41 800 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 18:26:41 800 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 18:26:41 800 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 18:26:42 908 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 18:26:43 404 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 18:26:43 405 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4343 ms
[2020-06-09 18:26:44 021 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 18:26:44 278 INFO ] [cluster-ClusterId{value='5edf63e4e9ea6b5508f95b74', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:816}] to 47.105.209.57:27017
[2020-06-09 18:26:44 348 INFO ] [cluster-ClusterId{value='5edf63e4e9ea6b5508f95b74', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69121001}
[2020-06-09 18:26:44 351 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 18:26:44 622 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xc3964384, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 18:26:44 622 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 18:26:44 831 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 18:26:44 983 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 18:26:45 150 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 18:26:45 283 INFO ] [main] / - Context refreshed
[2020-06-09 18:26:45 317 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 18:26:45 355 INFO ] [main] / - Scanning for api listing references
[2020-06-09 18:26:45 652 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 18:26:45 695 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 18:26:45 697 INFO ] [main] / - Started IMApplication in 7.254 seconds (JVM running for 7.996)
[2020-06-09 18:54:47 274 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 18:54:47 274 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 18:54:47 279 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 5 ms
[2020-06-09 18:54:49 035 INFO ] [http-nio-8081-exec-2] / - Opened connection [connectionId{localValue:2, serverValue:817}] to 47.105.209.57:27017
[2020-06-09 18:54:50 115 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x528d1e35, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61674]
[2020-06-09 18:54:50 137 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: F/+vCVM0807ltelTSfAYcw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:54:50 141 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:54:52 570 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x51abd9ce, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61683]
[2020-06-09 18:54:52 571 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: fqZPzeBebvZKnC4BsVHiVA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:54:52 575 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:54:55 155 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x810bbc65, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61688]
[2020-06-09 18:54:55 156 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: pLZk+ZrCu+Vh6aCunfR4EA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:54:55 158 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:55:12 905 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 18:55:12 906 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":3,"target":1,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 18:57:19 706 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 21940 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 18:57:19 708 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 18:57:21 125 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 18:57:21 257 INFO ] [main] / - Finished Spring Data repository scanning in 109ms. Found 2 repository interfaces.
[2020-06-09 18:57:22 667 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 18:57:22 689 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 18:57:22 707 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 18:57:22 707 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 18:57:22 723 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 18:57:22 723 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 18:57:22 723 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 18:57:22 723 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 18:57:23 848 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 18:57:24 113 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 18:57:24 113 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4192 ms
[2020-06-09 18:57:24 520 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 18:57:24 778 INFO ] [cluster-ClusterId{value='5edf6b14e9ea6b55b48fd15e', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:818}] to 47.105.209.57:27017
[2020-06-09 18:57:24 848 INFO ] [cluster-ClusterId{value='5edf6b14e9ea6b55b48fd15e', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68446057}
[2020-06-09 18:57:24 885 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 18:57:25 158 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x941e6ace, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 18:57:25 159 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 18:57:25 334 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 18:57:25 466 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 18:57:25 630 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 18:57:25 757 INFO ] [main] / - Context refreshed
[2020-06-09 18:57:25 788 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 18:57:25 823 INFO ] [main] / - Scanning for api listing references
[2020-06-09 18:57:26 131 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 18:57:26 153 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 18:57:26 154 INFO ] [main] / - Started IMApplication in 7.111 seconds (JVM running for 7.849)
[2020-06-09 18:57:32 747 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 18:57:32 747 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 18:57:32 754 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-06-09 18:57:33 434 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:819}] to 47.105.209.57:27017
[2020-06-09 18:57:34 267 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x812b163d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61993]
[2020-06-09 18:57:34 297 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: G17BHfs972jmklFf6o1Vrw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:57:34 302 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:57:34 886 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0xf2a1a769, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61999]
[2020-06-09 18:57:34 887 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: xhBvgKJy1Tgr36bFwJRW1w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:57:34 891 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:57:37 210 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x24e6394d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62007]
[2020-06-09 18:57:37 212 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: mpLB81xblh6E9mdw5HbY/A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:57:37 214 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:57:58 385 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xe7c5ed55, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62049]
[2020-06-09 18:57:58 386 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?4 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Dc1foK5NHoOw6HpDFwBl0g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 18:57:58 388 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 18:58:06 992 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 18:58:06 992 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":4,"target":1,"type":"FAPPLY","data":{"username":"bai4"}}}
[2020-06-09 18:58:24 134 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 18:58:24 134 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":4,"target":3,"type":"FAPPLY","data":{"username":"bai4"}}}
[2020-06-09 19:00:23 288 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 24444 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:00:23 290 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:00:24 680 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:00:24 792 INFO ] [main] / - Finished Spring Data repository scanning in 91ms. Found 2 repository interfaces.
[2020-06-09 19:00:26 012 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:00:26 043 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:00:26 059 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:00:26 060 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:00:26 079 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:00:26 079 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:00:26 079 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:00:26 080 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:00:27 211 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:00:27 500 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:00:27 500 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4149 ms
[2020-06-09 19:00:27 941 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:00:28 191 INFO ] [cluster-ClusterId{value='5edf6bcbe9ea6b5f7cf2ea0f', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:820}] to 47.105.209.57:27017
[2020-06-09 19:00:28 248 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:00:28 261 INFO ] [cluster-ClusterId{value='5edf6bcbe9ea6b5f7cf2ea0f', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68731621}
[2020-06-09 19:00:28 544 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xfadf6a81, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:00:28 544 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:00:28 740 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:00:28 910 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:00:29 078 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:00:29 217 INFO ] [main] / - Context refreshed
[2020-06-09 19:00:29 251 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:00:29 288 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:00:29 603 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:00:29 653 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:00:29 655 INFO ] [main] / - Started IMApplication in 6.95 seconds (JVM running for 7.594)
[2020-06-09 19:00:30 768 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:00:30 768 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:00:30 775 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-06-09 19:00:31 253 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:821}] to 47.105.209.57:27017
[2020-06-09 19:00:32 141 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xba43789b, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62375]
[2020-06-09 19:00:32 169 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?4 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: /LteoqOcfRZ8URmPVvS3/w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:00:32 173 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:00:34 292 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0xba43789b, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:62375]
[2020-06-09 19:00:34 397 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x26eefb24, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62380]
[2020-06-09 19:00:34 398 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?4 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: C1k2BOxiNaJ76lSLGBctWg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:00:34 401 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:00:41 010 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x9fdb4643, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62394]
[2020-06-09 19:00:41 010 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?3 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: rPSLfvbZsuNWCiQBz2ovyw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:00:41 014 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:00:42 994 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x981c0c1d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62398]
[2020-06-09 19:00:42 995 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?1 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Qn5HHHm3NZK5UvE8o1D0mg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:00:42 998 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:00:45 620 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0xac87b9be, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:62402]
[2020-06-09 19:00:45 621 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?2 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: ug2aatsfFlvTu0skTcK+ng==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:00:45 622 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:00:55 208 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:00:55 210 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":4,"target":2,"type":"FAPPLY","data":{"username":"bai4"}}}
[2020-06-09 19:01:58 870 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:01:58 870 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":4,"target":2,"type":"FAPPLY","data":{"username":"bai4"}}}
[2020-06-09 19:04:56 098 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 10764 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:04:56 100 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:04:57 578 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:04:57 677 INFO ] [main] / - Finished Spring Data repository scanning in 80ms. Found 2 repository interfaces.
[2020-06-09 19:04:58 751 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:04:58 777 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:04:58 796 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:04:58 796 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:04:58 813 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:04:58 814 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:04:58 814 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:04:58 814 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:04:59 915 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:05:00 146 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:05:00 146 INFO ] [main] / - Root WebApplicationContext: initialization completed in 3959 ms
[2020-06-09 19:05:00 537 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:05:00 775 INFO ] [cluster-ClusterId{value='5edf6cdce9ea6b2a0c1f2b70', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:822}] to 47.105.209.57:27017
[2020-06-09 19:05:00 839 INFO ] [cluster-ClusterId{value='5edf6cdce9ea6b2a0c1f2b70', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62288796}
[2020-06-09 19:05:00 854 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:05:01 135 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x0cadf54f, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:05:01 135 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:05:01 340 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:05:01 521 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:05:01 722 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:05:01 873 INFO ] [main] / - Context refreshed
[2020-06-09 19:05:01 898 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:05:01 933 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:05:02 223 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:05:02 240 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:05:02 242 INFO ] [main] / - Started IMApplication in 6.725 seconds (JVM running for 7.339)
[2020-06-09 19:07:02 489 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:07:02 489 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:07:02 497 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 8 ms
[2020-06-09 19:07:25 674 INFO ] [http-nio-8081-exec-3] / - Opened connection [connectionId{localValue:2, serverValue:823}] to 47.105.209.57:27017
[2020-06-09 19:07:34 773 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x9d04dd4c, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:53951]
[2020-06-09 19:07:34 792 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 20zJTkkyUn5dKhVHng+f/w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:07:34 795 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:08:11 873 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x143ca154, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54028]
[2020-06-09 19:08:11 874 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 1Osz1q+MyHDvrnYATey4qg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:08:11 876 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:08:19 796 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:08:19 798 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":6,"target":5,"type":"FAPPLY","data":{"username":"bai2"}}}
[2020-06-09 19:09:46 526 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 17884 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:09:46 527 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:09:48 061 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:09:48 180 INFO ] [main] / - Finished Spring Data repository scanning in 98ms. Found 2 repository interfaces.
[2020-06-09 19:09:49 341 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:09:49 374 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:09:49 390 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:09:49 391 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:09:49 415 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:09:49 415 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:09:49 415 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:09:49 415 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:09:50 535 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:09:50 792 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:09:50 793 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4182 ms
[2020-06-09 19:09:51 164 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:09:51 406 INFO ] [cluster-ClusterId{value='5edf6dffe9ea6b45dc4d2fdd', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:824}] to 47.105.209.57:27017
[2020-06-09 19:09:51 472 INFO ] [cluster-ClusterId{value='5edf6dffe9ea6b45dc4d2fdd', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64824456}
[2020-06-09 19:09:51 495 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:09:51 816 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xfa47e0b5, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:09:51 816 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:09:51 986 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:09:52 133 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:09:52 289 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:09:52 422 INFO ] [main] / - Context refreshed
[2020-06-09 19:09:52 475 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:09:52 513 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:09:52 795 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:09:52 812 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:09:52 814 INFO ] [main] / - Started IMApplication in 6.779 seconds (JVM running for 7.317)
[2020-06-09 19:10:16 568 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:10:16 568 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:10:16 573 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 5 ms
[2020-06-09 19:10:17 060 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:825}] to 47.105.209.57:27017
[2020-06-09 19:10:18 081 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xe6590e21, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54299]
[2020-06-09 19:10:18 144 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: jlHIAwQT5leB+JHkmQ6U0w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:10:18 154 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:10:19 681 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x9994f8f9, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54305]
[2020-06-09 19:10:19 682 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: GjI2zuT3Sb1BnaDIxzC1MQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:10:19 683 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:10:25 488 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:10:25 489 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 19:12:55 519 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:12:55 519 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":6,"target":5,"type":"FAPPLY","data":{"username":"bai2"}}}
[2020-06-09 19:13:33 897 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 9056 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:13:33 899 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:13:35 516 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:13:35 633 INFO ] [main] / - Finished Spring Data repository scanning in 87ms. Found 2 repository interfaces.
[2020-06-09 19:13:36 603 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:13:36 633 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:13:36 651 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:13:36 651 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:13:36 673 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:13:36 673 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:13:36 673 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:13:36 673 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:13:37 898 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:13:38 175 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:13:38 176 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4214 ms
[2020-06-09 19:13:38 585 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:13:38 828 INFO ] [cluster-ClusterId{value='5edf6ee2e9ea6b2360c419a3', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:826}] to 47.105.209.57:27017
[2020-06-09 19:13:38 881 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:13:38 891 INFO ] [cluster-ClusterId{value='5edf6ee2e9ea6b2360c419a3', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=62090835}
[2020-06-09 19:13:39 154 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x67b5109c, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:13:39 154 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:13:39 374 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:13:39 534 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:13:39 714 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:13:39 868 INFO ] [main] / - Context refreshed
[2020-06-09 19:13:39 908 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:13:39 950 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:13:40 339 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:13:40 360 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:13:40 362 INFO ] [main] / - Started IMApplication in 7.022 seconds (JVM running for 7.692)
[2020-06-09 19:16:35 273 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:16:35 273 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:16:35 280 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-06-09 19:16:35 786 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:827}] to 47.105.209.57:27017
[2020-06-09 19:16:36 646 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x5129adcb, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54925]
[2020-06-09 19:16:36 671 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: pLuVoMEjc7X0ooOLSsjbRw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:16:36 675 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:16:38 574 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x4b9be0f7, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54934]
[2020-06-09 19:16:38 576 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Cr/h2FDDRELCJOK0vYdU/g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:16:38 577 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:16:44 151 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:16:44 152 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":6,"target":5,"type":"FAPPLY","data":{"username":"bai2"}}}
[2020-06-09 19:17:13 160 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x22b743f6, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:54993]
[2020-06-09 19:17:13 161 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: HbcZhr4Y1Zt3gWmbsCh8vw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:17:13 165 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:17:22 198 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:17:22 198 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":5,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 19:17:30 814 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:17:30 814 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":6,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 19:18:45 462 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x5129adcb, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:54925]
[2020-06-09 19:18:45 632 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x021236a6, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55141]
[2020-06-09 19:18:45 633 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: QW9SoiX8IL7++DxoTJMSeA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:18:45 635 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:18:55 218 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x4b9be0f7, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:54934]
[2020-06-09 19:18:55 344 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0xb96bfd21, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55160]
[2020-06-09 19:18:55 345 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 0zgmOWgCqEGC6kGnGO9K4g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:18:55 348 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:21:11 572 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x22b743f6, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:54993]
[2020-06-09 19:21:11 683 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0x873d5c87, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55576]
[2020-06-09 19:21:11 684 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: YHdOSs7vOmVLsl4AlM9/aA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:21:11 686 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:21:12 822 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0xb96bfd21, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:55160]
[2020-06-09 19:21:12 929 INFO ] [nioEventLoopGroup-3-7] / - 客户端加入连接：[id: 0xb0ed88be, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55583]
[2020-06-09 19:21:12 930 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: b0myfnh31leXXN3IDaKVnA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:21:12 933 INFO ] [nioEventLoopGroup-3-7] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:21:13 997 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0x021236a6, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:55141]
[2020-06-09 19:21:14 140 INFO ] [nioEventLoopGroup-3-8] / - 客户端加入连接：[id: 0x00535c87, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55593]
[2020-06-09 19:21:14 141 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: H80OS44/UR6lee+aqczrbQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:21:14 145 INFO ] [nioEventLoopGroup-3-8] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:21:23 120 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:21:23 120 INFO ] [nioEventLoopGroup-3-8] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 19:21:40 958 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:21:40 958 INFO ] [nioEventLoopGroup-3-7] / - 服务端收到：{"code":"200","payLoad":{"source":6,"target":7,"type":"FAPPLY","data":{"username":"bai2"}}}
[2020-06-09 19:21:57 214 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:21:57 214 INFO ] [nioEventLoopGroup-3-7] / - 服务端收到：{"code":"200","payLoad":{"source":6,"target":5,"type":"FAPPLY","data":{"username":"bai2"}}}
[2020-06-09 19:22:28 382 INFO ] [nioEventLoopGroup-3-7] / - 客户端断开连接：[id: 0xb0ed88be, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:55583]
[2020-06-09 19:22:28 571 INFO ] [nioEventLoopGroup-3-9] / - 客户端加入连接：[id: 0xe8b4a28b, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:55748]
[2020-06-09 19:22:28 574 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 5bNgl4ob73+FQauRiv4O9Q==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:22:28 574 INFO ] [nioEventLoopGroup-3-9] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:25:38 380 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 15724 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:25:38 384 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:25:39 978 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:25:40 089 INFO ] [main] / - Finished Spring Data repository scanning in 91ms. Found 2 repository interfaces.
[2020-06-09 19:25:41 341 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:25:41 379 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:25:41 394 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:25:41 395 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:25:41 414 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:25:41 414 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:25:41 414 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:25:41 414 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:25:42 588 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:25:42 991 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:25:42 992 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4538 ms
[2020-06-09 19:25:43 457 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:25:43 723 INFO ] [cluster-ClusterId{value='5edf71b7e9ea6b3d6c15968a', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:828}] to 47.105.209.57:27017
[2020-06-09 19:25:43 801 INFO ] [cluster-ClusterId{value='5edf71b7e9ea6b3d6c15968a', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=76670812}
[2020-06-09 19:25:43 895 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:25:44 307 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xbe6f204b, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:25:44 308 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:25:44 535 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:25:44 706 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:25:44 896 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:25:45 085 INFO ] [main] / - Context refreshed
[2020-06-09 19:25:45 127 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:25:45 178 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:25:45 567 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:25:45 582 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:25:45 583 INFO ] [main] / - Started IMApplication in 7.787 seconds (JVM running for 8.468)
[2020-06-09 19:26:15 054 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:26:15 054 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:26:15 064 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 10 ms
[2020-06-09 19:26:16 442 INFO ] [http-nio-8081-exec-2] / - Opened connection [connectionId{localValue:2, serverValue:829}] to 47.105.209.57:27017
[2020-06-09 19:26:17 433 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xf9e20729, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56239]
[2020-06-09 19:26:17 461 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: v6JubrM6kLKBCPfDeCHb+g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:26:17 468 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:26:18 393 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x007313a5, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56244]
[2020-06-09 19:26:18 394 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: AxENxlIzjmu4g5G4jHeERQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:26:18 395 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:26:19 711 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x91f8ee11, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56246]
[2020-06-09 19:26:19 711 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: s6MmOZxWoW/s9yxsVEbyWw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:26:19 715 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:26:26 696 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:26:26 697 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":5,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 19:30:24 686 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:30:24 686 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":6,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 19:30:35 279 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x91f8ee11, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:56246]
[2020-06-09 19:30:35 405 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xa1e945ea, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56630]
[2020-06-09 19:30:35 405 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Z112AqDUjgakF5/10QxLsg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:30:35 406 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:31:35 531 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 13980 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:31:35 532 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:31:37 151 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:31:37 293 INFO ] [main] / - Finished Spring Data repository scanning in 118ms. Found 2 repository interfaces.
[2020-06-09 19:31:38 752 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:31:38 825 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:31:38 838 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:31:38 838 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:31:38 855 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:31:38 856 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:31:38 856 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:31:38 859 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:31:40 018 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:31:40 240 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:31:40 240 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4658 ms
[2020-06-09 19:31:40 597 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:31:40 853 INFO ] [cluster-ClusterId{value='5edf731ce9ea6b369c13246b', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:830}] to 47.105.209.57:27017
[2020-06-09 19:31:40 927 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:31:40 931 INFO ] [cluster-ClusterId{value='5edf731ce9ea6b369c13246b', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=75638345}
[2020-06-09 19:31:41 265 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xc0ae9afb, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:31:41 265 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:31:41 528 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:31:41 700 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:31:41 907 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:31:42 081 INFO ] [main] / - Context refreshed
[2020-06-09 19:31:42 116 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:31:42 162 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:31:42 529 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:31:42 599 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:31:42 602 INFO ] [main] / - Started IMApplication in 7.608 seconds (JVM running for 8.299)
[2020-06-09 19:32:03 891 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:32:03 891 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:32:03 907 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 15 ms
[2020-06-09 19:32:06 195 INFO ] [http-nio-8081-exec-2] / - Opened connection [connectionId{localValue:2, serverValue:831}] to 47.105.209.57:27017
[2020-06-09 19:32:06 901 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x1bbabba7, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56844]
[2020-06-09 19:32:07 094 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: fJeX9sRrvmyzjPThQw/wdA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:32:07 097 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:32:07 709 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x77213853, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56850]
[2020-06-09 19:32:07 710 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: foFd2YM/ZywAtFmSRDM41w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:32:07 712 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:32:09 368 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x6072c2d7, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56853]
[2020-06-09 19:32:09 369 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: I/T5laaiFeL45wcQgYz21A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:32:09 369 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:32:15 879 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:32:15 880 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 19:33:20 389 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 13028 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:33:20 391 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:33:21 984 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:33:22 114 INFO ] [main] / - Finished Spring Data repository scanning in 102ms. Found 2 repository interfaces.
[2020-06-09 19:33:23 258 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:33:23 299 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:33:23 325 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:33:23 325 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:33:23 340 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:33:23 340 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:33:23 341 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:33:23 341 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:33:24 458 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:33:24 727 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:33:24 727 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4276 ms
[2020-06-09 19:33:25 121 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:33:25 351 INFO ] [cluster-ClusterId{value='5edf7385e9ea6b32e47f728e', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:832}] to 47.105.209.57:27017
[2020-06-09 19:33:25 419 INFO ] [cluster-ClusterId{value='5edf7385e9ea6b32e47f728e', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66200795}
[2020-06-09 19:33:25 490 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:33:25 784 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xe39c37d3, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:33:25 784 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:33:26 014 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:33:26 165 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:33:26 437 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:33:26 579 INFO ] [main] / - Context refreshed
[2020-06-09 19:33:26 611 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:33:26 657 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:33:27 044 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:33:27 077 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:33:27 081 INFO ] [main] / - Started IMApplication in 7.233 seconds (JVM running for 7.917)
[2020-06-09 19:33:40 311 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:33:40 311 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:33:40 319 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 8 ms
[2020-06-09 19:33:40 847 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:833}] to 47.105.209.57:27017
[2020-06-09 19:33:41 981 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x9592dc55, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57073]
[2020-06-09 19:33:42 027 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: FIDpSUZSA4JXSbRqVi6BZg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:33:42 031 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:33:43 489 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0xdaae5da1, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57102]
[2020-06-09 19:33:43 491 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: PvbLorWccWLNPLPYqHg7qg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:33:43 491 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:33:44 403 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x2cef3c03, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57118]
[2020-06-09 19:33:44 404 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: q1P0F0lHYXmLGHmvXulfmg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:33:44 404 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:33:49 847 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:33:49 849 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 19:34:49 935 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 5684 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:34:49 937 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:34:51 419 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:34:51 523 INFO ] [main] / - Finished Spring Data repository scanning in 80ms. Found 2 repository interfaces.
[2020-06-09 19:34:52 954 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:34:52 979 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:34:52 994 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:34:52 994 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:34:53 010 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:34:53 011 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:34:53 011 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:34:53 011 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:34:54 105 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:34:54 437 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:34:54 437 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4441 ms
[2020-06-09 19:34:54 832 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:34:55 090 INFO ] [cluster-ClusterId{value='5edf73dee9ea6b163440b91c', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:834}] to 47.105.209.57:27017
[2020-06-09 19:34:55 166 INFO ] [cluster-ClusterId{value='5edf73dee9ea6b163440b91c', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=74923866}
[2020-06-09 19:34:55 182 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:34:55 483 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x117177ed, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:34:55 484 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:34:55 686 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:34:55 851 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:34:56 058 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:34:56 220 INFO ] [main] / - Context refreshed
[2020-06-09 19:34:56 248 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:34:56 290 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:34:56 659 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:34:56 682 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:34:56 684 INFO ] [main] / - Started IMApplication in 7.2 seconds (JVM running for 7.873)
[2020-06-09 19:35:12 805 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:35:12 805 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:35:12 810 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 5 ms
[2020-06-09 19:35:13 300 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:835}] to 47.105.209.57:27017
[2020-06-09 19:35:14 083 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x2add64df, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57349]
[2020-06-09 19:35:14 107 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: zWh/OsLFIaub4uQyb9veig==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:35:14 110 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:35:15 026 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x13928b97, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57355]
[2020-06-09 19:35:15 027 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: fDnCn2HfKs+Uf+xdCtvnWA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:35:15 031 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:35:16 089 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x1aa5c72d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57357]
[2020-06-09 19:35:16 090 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: SN1qbaxyqbh9YGTELCBo2A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:35:16 092 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:35:22 943 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:35:22 944 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":7,"target":6,"type":"FAPPLY","data":{"username":"bai3"}}}
[2020-06-09 19:36:57 827 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 20812 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:36:57 829 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:36:59 544 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:36:59 717 INFO ] [main] / - Finished Spring Data repository scanning in 151ms. Found 2 repository interfaces.
[2020-06-09 19:37:00 976 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:37:00 992 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:37:01 004 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:37:01 005 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:37:01 016 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:37:01 016 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:37:01 016 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:37:01 016 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:37:02 123 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:37:02 374 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:37:02 374 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4469 ms
[2020-06-09 19:37:02 779 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:37:03 047 INFO ] [cluster-ClusterId{value='5edf745ee9ea6b514c07effe', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:836}] to 47.105.209.57:27017
[2020-06-09 19:37:03 120 INFO ] [cluster-ClusterId{value='5edf745ee9ea6b514c07effe', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=71455856}
[2020-06-09 19:37:03 132 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:37:03 438 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xf778fd0e, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:37:03 438 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:37:03 665 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:37:03 811 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:37:03 990 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:37:04 157 INFO ] [main] / - Context refreshed
[2020-06-09 19:37:04 186 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:37:04 225 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:37:04 583 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:37:04 602 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:37:04 604 INFO ] [main] / - Started IMApplication in 7.385 seconds (JVM running for 8.141)
[2020-06-09 19:37:36 024 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:37:36 024 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:37:36 053 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 29 ms
[2020-06-09 19:37:36 634 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:837}] to 47.105.209.57:27017
[2020-06-09 19:37:37 495 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0xce1b6f59, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56587]
[2020-06-09 19:37:37 522 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: zDI0oz/U9HeswtHJaK1eeg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:37:37 528 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:37:37 643 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0xb5653d87, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56591]
[2020-06-09 19:37:37 645 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: hDAvjeBtUMamPhTWbQLTBw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:37:37 645 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:37:38 514 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0xda2d5ec8, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56596]
[2020-06-09 19:37:38 516 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: zDTyfBBpA0AKz/Rz0nbo7A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:37:38 517 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:37:43 247 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:37:43 247 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 19:37:58 544 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 91, cap: 91))
[2020-06-09 19:37:58 544 INFO ] [nioEventLoopGroup-3-3] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":7,"type":"FAPPLY","data":{"username":"bai1"}}}
[2020-06-09 19:38:25 635 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0xda2d5ec8, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:56596]
[2020-06-09 19:38:25 756 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xce2c9b6e, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:56687]
[2020-06-09 19:38:25 757 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 8JIRBYDjYLkSBDDzw0RL1g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:38:25 759 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:38:35 158 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 118, cap: 118))
[2020-06-09 19:38:35 159 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"hello","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 19:38:35 532 INFO ] [http-nio-8081-exec-4] / - Opened connection [connectionId{localValue:3, serverValue:838}] to 47.105.209.57:27017
[2020-06-09 19:46:09 840 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 120, cap: 120))
[2020-06-09 19:46:09 840 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasd","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 19:46:12 777 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0xce1b6f59, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:56587]
[2020-06-09 19:46:29 926 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 16396 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:46:29 929 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:46:31 619 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:46:31 740 INFO ] [main] / - Finished Spring Data repository scanning in 95ms. Found 2 repository interfaces.
[2020-06-09 19:46:32 694 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:46:32 721 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:46:32 736 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:46:32 736 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:46:32 751 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:46:32 751 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:46:32 751 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:46:32 752 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:46:33 858 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:46:34 277 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:46:34 277 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4262 ms
[2020-06-09 19:46:34 758 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:46:34 998 INFO ] [cluster-ClusterId{value='5edf769ae9ea6b400cdff59e', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:840}] to 47.105.209.57:27017
[2020-06-09 19:46:35 068 INFO ] [cluster-ClusterId{value='5edf769ae9ea6b400cdff59e', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65370554}
[2020-06-09 19:46:35 305 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:46:35 808 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x9db25da8, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:46:35 808 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:46:36 010 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:46:36 200 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:46:36 384 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:46:36 545 INFO ] [main] / - Context refreshed
[2020-06-09 19:46:36 582 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:46:36 626 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:46:36 934 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:46:36 959 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:46:36 961 INFO ] [main] / - Started IMApplication in 7.638 seconds (JVM running for 8.389)
[2020-06-09 19:46:41 384 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:46:41 385 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:46:41 391 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-06-09 19:46:41 912 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:841}] to 47.105.209.57:27017
[2020-06-09 19:46:43 000 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x0389a6b2, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57566]
[2020-06-09 19:46:43 043 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: eC6g3tdvyZemfhfdYf3UWA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:46:43 049 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:46:44 459 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x56ba5707, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57572]
[2020-06-09 19:46:44 460 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 5IVe8X0zrd7MGrk6E+0Ssw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:46:44 462 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:46:48 120 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 119, cap: 119))
[2020-06-09 19:46:48 120 INFO ] [nioEventLoopGroup-3-2] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdasd","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 19:46:48 483 INFO ] [nioEventLoopGroup-3-2] / - Opened connection [connectionId{localValue:3, serverValue:842}] to 47.105.209.57:27017
[2020-06-09 19:47:19 812 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x0389a6b2, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:57566]
[2020-06-09 19:47:19 980 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x5075de74, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57631]
[2020-06-09 19:47:19 981 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: SZTHHUX9mKbboux01I5/xA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:47:19 983 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:47:22 003 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x56ba5707, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:57572]
[2020-06-09 19:47:22 145 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x5bd66536, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:57640]
[2020-06-09 19:47:22 146 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 1AeMc6g20iwctDdJ2E36ZQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:47:22 149 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:47:26 503 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 124, cap: 124))
[2020-06-09 19:47:26 503 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasdfasd","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 19:50:20 569 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 4556 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 19:50:20 572 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 19:50:22 127 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 19:50:22 282 INFO ] [main] / - Finished Spring Data repository scanning in 133ms. Found 2 repository interfaces.
[2020-06-09 19:50:23 459 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 19:50:23 485 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:50:23 500 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 19:50:23 501 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 19:50:23 517 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 19:50:23 517 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 19:50:23 517 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 19:50:23 517 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 19:50:24 756 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 19:50:25 203 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 19:50:25 203 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4557 ms
[2020-06-09 19:50:25 781 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 19:50:26 022 INFO ] [cluster-ClusterId{value='5edf7781e9ea6b11cc8d27f9', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:843}] to 47.105.209.57:27017
[2020-06-09 19:50:26 101 INFO ] [cluster-ClusterId{value='5edf7781e9ea6b11cc8d27f9', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=76842890}
[2020-06-09 19:50:26 176 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 19:50:26 460 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0x5940712e, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 19:50:26 461 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 19:50:26 666 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 19:50:26 819 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 19:50:27 021 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 19:50:27 176 INFO ] [main] / - Context refreshed
[2020-06-09 19:50:27 202 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 19:50:27 238 INFO ] [main] / - Scanning for api listing references
[2020-06-09 19:50:27 553 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 19:50:27 571 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 19:50:27 575 INFO ] [main] / - Started IMApplication in 7.558 seconds (JVM running for 8.238)
[2020-06-09 19:50:32 599 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 19:50:32 599 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 19:50:32 606 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 6 ms
[2020-06-09 19:50:33 100 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:844}] to 47.105.209.57:27017
[2020-06-09 19:50:33 855 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x98a29f65, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:58068]
[2020-06-09 19:50:33 879 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: G+t9+3q+gEdno6Rq5g2KkQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:50:33 887 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:50:34 401 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x9b414290, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:58073]
[2020-06-09 19:50:34 402 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 9qavIp/LmlqfAUhnaoW6zw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:50:34 405 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:50:35 360 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x05c54744, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:58075]
[2020-06-09 19:50:35 361 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: /KHB72vJai3xWhRE9KzkNA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 19:50:35 364 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 19:50:41 048 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 123, cap: 123))
[2020-06-09 19:50:41 049 INFO ] [nioEventLoopGroup-3-1] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasdfas","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 19:50:41 430 INFO ] [nioEventLoopGroup-3-1] / - Opened connection [connectionId{localValue:3, serverValue:845}] to 47.105.209.57:27017
[2020-06-09 20:05:09 097 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x98a29f65, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:58068]
[2020-06-09 20:05:09 239 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xe9232d44, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:59321]
[2020-06-09 20:05:09 240 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: odHX4zRIzfvMyj69rQEzsw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:05:09 243 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:05:10 864 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x9b414290, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:58073]
[2020-06-09 20:05:10 956 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0xbfb234f5, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:59329]
[2020-06-09 20:05:10 956 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: X72VuNIHRJJC9xYdj62hwA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:05:10 959 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:05:11 727 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x05c54744, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:58075]
[2020-06-09 20:05:11 817 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0x2b71cd0d, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:59332]
[2020-06-09 20:05:11 818 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: urDQknXNxUD7JbNWsX7e3g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:05:11 822 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:05:16 062 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 120, cap: 120))
[2020-06-09 20:05:16 062 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasd","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:05:39 429 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 19076 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 20:05:39 431 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 20:05:41 129 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 20:05:41 236 INFO ] [main] / - Finished Spring Data repository scanning in 88ms. Found 2 repository interfaces.
[2020-06-09 20:05:42 442 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 20:05:42 462 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 20:05:42 476 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 20:05:42 476 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 20:05:42 495 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 20:05:42 495 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 20:05:42 496 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 20:05:42 496 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 20:05:43 689 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 20:05:43 954 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 20:05:43 954 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4449 ms
[2020-06-09 20:05:44 317 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 20:05:44 569 INFO ] [cluster-ClusterId{value='5edf7b18e9ea6b4a84c7b837', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:846}] to 47.105.209.57:27017
[2020-06-09 20:05:44 640 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 20:05:44 640 INFO ] [cluster-ClusterId{value='5edf7b18e9ea6b4a84c7b837', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=69630408}
[2020-06-09 20:05:44 934 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xe74ffa4f, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 20:05:44 934 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 20:05:45 162 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 20:05:45 314 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 20:05:45 492 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 20:05:45 657 INFO ] [main] / - Context refreshed
[2020-06-09 20:05:45 719 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 20:05:45 746 INFO ] [main] / - Scanning for api listing references
[2020-06-09 20:05:46 067 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 20:05:46 094 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 20:05:46 100 INFO ] [main] / - Started IMApplication in 7.213 seconds (JVM running for 7.925)
[2020-06-09 20:09:41 110 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 20:09:41 110 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 20:09:41 119 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 9 ms
[2020-06-09 20:09:41 614 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:847}] to 47.105.209.57:27017
[2020-06-09 20:09:42 463 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x1bb3fb44, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60333]
[2020-06-09 20:09:42 508 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: TZYv3Z6NoGaYygDvggJ7NA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:42 513 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:42 544 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0xb6de399e, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60339]
[2020-06-09 20:09:42 546 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: nJCRzvOEZ/yeRgrrinWqPQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:42 546 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:43 383 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x082e7d23, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60344]
[2020-06-09 20:09:43 384 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: +XSfKSK87iGbxQeRaPSijw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:43 384 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:55 773 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x1bb3fb44, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60333]
[2020-06-09 20:09:55 877 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0x84b8fd3a, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60360]
[2020-06-09 20:09:55 877 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: JAVEgduLs4dBm+sUJnXbKg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:55 881 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:56 999 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0x84b8fd3a, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60360]
[2020-06-09 20:09:57 101 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0x9b9711fa, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60363]
[2020-06-09 20:09:57 102 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: mqBSF0IQmmCOT9Oncme5IA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:57 106 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:57 529 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0x9b9711fa, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60363]
[2020-06-09 20:09:57 607 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0x83fee241, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60366]
[2020-06-09 20:09:57 608 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: iOJCQ/zLL7glVfU2d2/tZQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:57 611 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:57 729 INFO ] [nioEventLoopGroup-3-6] / - 客户端断开连接：[id: 0x83fee241, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60366]
[2020-06-09 20:09:57 845 INFO ] [nioEventLoopGroup-3-7] / - 客户端加入连接：[id: 0xa1da3747, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60367]
[2020-06-09 20:09:57 846 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: y1KFq2CnjGMsB3//p0zAEw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:57 850 INFO ] [nioEventLoopGroup-3-7] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:09:57 925 INFO ] [nioEventLoopGroup-3-7] / - 客户端断开连接：[id: 0xa1da3747, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60367]
[2020-06-09 20:09:58 023 INFO ] [nioEventLoopGroup-3-8] / - 客户端加入连接：[id: 0x0aacbbb0, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60368]
[2020-06-09 20:09:58 023 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: rnfDLSsAftSPF4ETpe5LRA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:09:58 024 INFO ] [nioEventLoopGroup-3-8] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:10:01 079 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 121, cap: 121))
[2020-06-09 20:10:01 080 INFO ] [nioEventLoopGroup-3-8] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasdf","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:10:01 470 INFO ] [nioEventLoopGroup-3-8] / - Opened connection [connectionId{localValue:3, serverValue:848}] to 47.105.209.57:27017
[2020-06-09 20:10:55 995 INFO ] [nioEventLoopGroup-3-8] / - 客户端断开连接：[id: 0x0aacbbb0, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60368]
[2020-06-09 20:10:56 090 INFO ] [nioEventLoopGroup-3-9] / - 客户端加入连接：[id: 0xda0b6012, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60465]
[2020-06-09 20:10:56 090 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: DdMw8U9bLRQe1/JrkaTN2A==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:10:56 095 INFO ] [nioEventLoopGroup-3-9] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:10:56 975 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0xb6de399e, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60339]
[2020-06-09 20:10:57 069 INFO ] [nioEventLoopGroup-3-10] / - 客户端加入连接：[id: 0xbf52a458, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60471]
[2020-06-09 20:10:57 070 INFO ] [nioEventLoopGroup-3-10] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: ZqAhbzHWgQTc+uj0d/oAzg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:10:57 074 INFO ] [nioEventLoopGroup-3-10] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:10:57 672 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x082e7d23, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60344]
[2020-06-09 20:10:57 763 INFO ] [nioEventLoopGroup-3-11] / - 客户端加入连接：[id: 0x7eaafe73, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60474]
[2020-06-09 20:10:57 764 INFO ] [nioEventLoopGroup-3-11] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: hMHle+5jhgSMiWspdyXPng==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:10:57 766 INFO ] [nioEventLoopGroup-3-11] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:11:02 071 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 123, cap: 123))
[2020-06-09 20:11:02 071 INFO ] [nioEventLoopGroup-3-9] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"sdfasdfasd","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:13:00 856 INFO ] [main] / - Starting IMApplication on HYGK-PC with PID 16148 (F:\IdeaWorkspace\store\im\target\classes started by Admin in F:\IdeaWorkspace\store)
[2020-06-09 20:13:00 859 INFO ] [main] / - No active profile set, falling back to default profiles: default
[2020-06-09 20:13:02 685 INFO ] [main] / - Bootstrapping Spring Data repositories in DEFAULT mode.
[2020-06-09 20:13:02 789 INFO ] [main] / - Finished Spring Data repository scanning in 86ms. Found 2 repository interfaces.
[2020-06-09 20:13:03 971 INFO ] [main] / - Tomcat initialized with port(s): 8081 (http)
[2020-06-09 20:13:03 991 INFO ] [main] / - Initializing ProtocolHandler ["http-nio-8081"]
[2020-06-09 20:13:04 007 INFO ] [main] / - Starting service [Tomcat]
[2020-06-09 20:13:04 007 INFO ] [main] / - Starting Servlet engine: [Apache Tomcat/9.0.19]
[2020-06-09 20:13:04 020 INFO ] [main] / - An older version [1.2.16] of the APR based Apache Tomcat Native library is installed, while Tomcat recommends a minimum version of [1.2.21]
[2020-06-09 20:13:04 020 INFO ] [main] / - Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].
[2020-06-09 20:13:04 020 INFO ] [main] / - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
[2020-06-09 20:13:04 020 INFO ] [main] / - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[2020-06-09 20:13:05 193 INFO ] [main] / - OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]
[2020-06-09 20:13:05 446 INFO ] [main] / - Initializing Spring embedded WebApplicationContext
[2020-06-09 20:13:05 447 INFO ] [main] / - Root WebApplicationContext: initialization completed in 4400 ms
[2020-06-09 20:13:05 833 INFO ] [main] / - Cluster created with settings {hosts=[47.105.209.57:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
[2020-06-09 20:13:06 080 INFO ] [cluster-ClusterId{value='5edf7cd1e9ea6b3f14ac6989', description='null'}-47.105.209.57:27017] / - Opened connection [connectionId{localValue:1, serverValue:849}] to 47.105.209.57:27017
[2020-06-09 20:13:06 145 INFO ] [cluster-ClusterId{value='5edf7cd1e9ea6b3f14ac6989', description='null'}-47.105.209.57:27017] / - Monitor thread successfully connected to server with description ServerDescription{address=47.105.209.57:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 2, 2]}, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=64258164}
[2020-06-09 20:13:06 171 INFO ] [Thread-2] / - 正在启动websocket服务器
[2020-06-09 20:13:06 516 INFO ] [Thread-2] / - webSocket服务器启动成功：[id: 0xaba17fe4, L:/0:0:0:0:0:0:0:0:1234]
[2020-06-09 20:13:06 516 INFO ] [Thread-2] / - webSocket服务器启动成功：1234
[2020-06-09 20:13:06 693 INFO ] [main] / - Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
[2020-06-09 20:13:06 866 INFO ] [main] / - Initializing ExecutorService 'applicationTaskExecutor'
[2020-06-09 20:13:07 047 INFO ] [main] / - Adding welcome page template: index
[2020-06-09 20:13:07 228 INFO ] [main] / - Context refreshed
[2020-06-09 20:13:07 264 INFO ] [main] / - Found 1 custom documentation plugin(s)
[2020-06-09 20:13:07 309 INFO ] [main] / - Scanning for api listing references
[2020-06-09 20:13:07 737 INFO ] [main] / - Starting ProtocolHandler ["http-nio-8081"]
[2020-06-09 20:13:07 816 INFO ] [main] / - Tomcat started on port(s): 8081 (http) with context path ''
[2020-06-09 20:13:07 819 INFO ] [main] / - Started IMApplication in 7.633 seconds (JVM running for 8.31)
[2020-06-09 20:13:29 415 INFO ] [http-nio-8081-exec-1] / - Initializing Spring DispatcherServlet 'dispatcherServlet'
[2020-06-09 20:13:29 415 INFO ] [http-nio-8081-exec-1] / - Initializing Servlet 'dispatcherServlet'
[2020-06-09 20:13:29 422 INFO ] [http-nio-8081-exec-1] / - Completed initialization in 7 ms
[2020-06-09 20:13:29 968 INFO ] [http-nio-8081-exec-1] / - Opened connection [connectionId{localValue:2, serverValue:850}] to 47.105.209.57:27017
[2020-06-09 20:13:30 866 INFO ] [nioEventLoopGroup-3-1] / - 客户端加入连接：[id: 0x7d28e3f4, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60826]
[2020-06-09 20:13:30 893 INFO ] [nioEventLoopGroup-3-1] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: s9d5kh/blXh9mmgIhvNDQQ==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:13:30 897 INFO ] [nioEventLoopGroup-3-1] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:13:30 919 INFO ] [nioEventLoopGroup-3-2] / - 客户端加入连接：[id: 0x78fce31c, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60830]
[2020-06-09 20:13:30 922 INFO ] [nioEventLoopGroup-3-2] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: 0qFMvBAdczi5KpqWTwzO/w==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:13:30 923 INFO ] [nioEventLoopGroup-3-2] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:13:31 190 INFO ] [nioEventLoopGroup-3-3] / - 客户端加入连接：[id: 0x57900a50, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60833]
[2020-06-09 20:13:31 191 INFO ] [nioEventLoopGroup-3-3] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: vWYPaJ3EJado5/uxP/iWYA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:13:31 192 INFO ] [nioEventLoopGroup-3-3] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:13:40 490 INFO ] [nioEventLoopGroup-3-1] / - 客户端断开连接：[id: 0x7d28e3f4, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60826]
[2020-06-09 20:13:40 576 INFO ] [nioEventLoopGroup-3-4] / - 客户端加入连接：[id: 0xbe9f1f5b, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60847]
[2020-06-09 20:13:40 577 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: Q/894+OLO58k6e/FePDbHw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:13:40 577 INFO ] [nioEventLoopGroup-3-4] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:13:48 689 INFO ] [nioEventLoopGroup-3-4] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 120, cap: 120))
[2020-06-09 20:13:48 690 INFO ] [nioEventLoopGroup-3-4] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"zasdfas","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:13:49 098 INFO ] [nioEventLoopGroup-3-4] / - Opened connection [connectionId{localValue:3, serverValue:851}] to 47.105.209.57:27017
[2020-06-09 20:14:25 962 INFO ] [nioEventLoopGroup-3-4] / - 客户端断开连接：[id: 0xbe9f1f5b, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60847]
[2020-06-09 20:14:26 191 INFO ] [nioEventLoopGroup-3-5] / - 客户端加入连接：[id: 0xa6ac0eba, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60923]
[2020-06-09 20:14:26 192 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: h/SobEM3thIOyh3YWDOkSA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:14:26 192 INFO ] [nioEventLoopGroup-3-5] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:14:26 842 INFO ] [nioEventLoopGroup-3-2] / - 客户端断开连接：[id: 0x78fce31c, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60830]
[2020-06-09 20:14:26 932 INFO ] [nioEventLoopGroup-3-6] / - 客户端加入连接：[id: 0x7e07c110, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60929]
[2020-06-09 20:14:26 932 INFO ] [nioEventLoopGroup-3-6] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: bcpLjOnfpJjkfFDHX5cHDw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:14:26 937 INFO ] [nioEventLoopGroup-3-6] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:14:27 765 INFO ] [nioEventLoopGroup-3-3] / - 客户端断开连接：[id: 0x57900a50, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60833]
[2020-06-09 20:14:27 878 INFO ] [nioEventLoopGroup-3-7] / - 客户端加入连接：[id: 0x6f22cf91, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:60931]
[2020-06-09 20:14:27 879 INFO ] [nioEventLoopGroup-3-7] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?7 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: TZyFX0cRRVGOj81u7PXmFA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:14:27 880 INFO ] [nioEventLoopGroup-3-7] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:14:32 311 INFO ] [nioEventLoopGroup-3-5] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 121, cap: 121))
[2020-06-09 20:14:32 312 INFO ] [nioEventLoopGroup-3-5] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasdf","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:15:53 701 INFO ] [nioEventLoopGroup-3-5] / - 客户端断开连接：[id: 0xa6ac0eba, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60923]
[2020-06-09 20:15:53 797 INFO ] [nioEventLoopGroup-3-8] / - 客户端加入连接：[id: 0xba339c97, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61082]
[2020-06-09 20:15:53 798 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?5 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: yT8Jq9jiiveWXT1daQe9hw==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:15:53 799 INFO ] [nioEventLoopGroup-3-8] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:15:54 873 INFO ] [nioEventLoopGroup-3-6] / - 客户端断开连接：[id: 0x7e07c110, L:/0:0:0:0:0:0:0:1:1234 ! R:/0:0:0:0:0:0:0:1:60929]
[2020-06-09 20:15:54 967 INFO ] [nioEventLoopGroup-3-9] / - 客户端加入连接：[id: 0xa28b6e9f, L:/0:0:0:0:0:0:0:1:1234 - R:/0:0:0:0:0:0:0:1:61087]
[2020-06-09 20:15:54 968 INFO ] [nioEventLoopGroup-3-9] / - 收到消息：HttpObjectAggregator$AggregatedFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: CompositeByteBuf(ridx: 0, widx: 0, cap: 0, components=0))
GET /websocket?6 HTTP/1.1
Host: localhost:1234
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1
Upgrade: websocket
Origin: http://localhost:8081
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Sec-WebSocket-Key: hxSnLo8cEvLFLZEhXqykiA==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
content-length: 0
[2020-06-09 20:15:54 972 INFO ] [nioEventLoopGroup-3-9] / - 地址：ws://localhost:1234/websocket
[2020-06-09 20:15:59 703 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 122, cap: 122))
[2020-06-09 20:15:59 703 INFO ] [nioEventLoopGroup-3-8] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasdfa","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:16:06 887 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 120, cap: 120))
[2020-06-09 20:16:06 887 INFO ] [nioEventLoopGroup-3-8] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asfasdf","headImg":"/image/headimg2.jpg"}}}
[2020-06-09 20:16:11 006 INFO ] [nioEventLoopGroup-3-8] / - 收到消息：TextWebSocketFrame(data: PooledUnsafeDirectByteBuf(ridx: 0, widx: 121, cap: 121))
[2020-06-09 20:16:11 006 INFO ] [nioEventLoopGroup-3-8] / - 服务端收到：{"code":"200","payLoad":{"source":5,"target":6,"type":"P","data":{"content":"asdfasdf","headImg":"/image/headimg2.jpg"}}}
